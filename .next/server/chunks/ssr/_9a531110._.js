module.exports=[21011,(a,b,c)=>{var d=a.r(88947).Stream,e=a.r(24361);function f(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}b.exports=f,e.inherits(f,d),f.create=function(a,b){var c=new this;for(var d in b=b||{})c[d]=b[d];c.source=a;var e=a.emit;return a.emit=function(){return c._handleEmit(arguments),e.apply(a,arguments)},a.on("error",function(){}),c.pauseStream&&a.pause(),c},Object.defineProperty(f.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),f.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},f.prototype.resume=function(){this._released||this.release(),this.source.resume()},f.prototype.pause=function(){this.source.pause()},f.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach((function(a){this.emit.apply(this,a)}).bind(this)),this._bufferedEvents=[]},f.prototype.pipe=function(){var a=d.prototype.pipe.apply(this,arguments);return this.resume(),a},f.prototype._handleEmit=function(a){this._released?this.emit.apply(this,a):("data"===a[0]&&(this.dataSize+=a[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(a))},f.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var a="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",Error(a))}}},48803,(a,b,c)=>{var d=a.r(24361),e=a.r(88947).Stream,f=a.r(21011);function g(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}b.exports=g,d.inherits(g,e),g.create=function(a){var b=new this;for(var c in a=a||{})b[c]=a[c];return b},g.isStreamLike=function(a){return"function"!=typeof a&&"string"!=typeof a&&"boolean"!=typeof a&&"number"!=typeof a&&!Buffer.isBuffer(a)},g.prototype.append=function(a){if(g.isStreamLike(a)){if(!(a instanceof f)){var b=f.create(a,{maxDataSize:1/0,pauseStream:this.pauseStreams});a.on("data",this._checkDataSize.bind(this)),a=b}this._handleErrors(a),this.pauseStreams&&a.pause()}return this._streams.push(a),this},g.prototype.pipe=function(a,b){return e.prototype.pipe.call(this,a,b),this.resume(),a},g.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}},g.prototype._realGetNext=function(){var a=this._streams.shift();void 0===a?this.end():"function"!=typeof a?this._pipeNext(a):a((function(a){g.isStreamLike(a)&&(a.on("data",this._checkDataSize.bind(this)),this._handleErrors(a)),this._pipeNext(a)}).bind(this))},g.prototype._pipeNext=function(a){if(this._currentStream=a,g.isStreamLike(a)){a.on("end",this._getNext.bind(this)),a.pipe(this,{end:!1});return}this.write(a),this._getNext()},g.prototype._handleErrors=function(a){var b=this;a.on("error",function(a){b._emitError(a)})},g.prototype.write=function(a){this.emit("data",a)},g.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},g.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},g.prototype.end=function(){this._reset(),this.emit("end")},g.prototype.destroy=function(){this._reset(),this.emit("close")},g.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},g.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var a="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(Error(a))}},g.prototype._updateDataSize=function(){this.dataSize=0;var a=this;this._streams.forEach(function(b){b.dataSize&&(a.dataSize+=b.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},g.prototype._emitError=function(a){this._reset(),this.emit("error",a)}},47723,(a,b,c)=>{b.exports=a.r(78900)},38201,(a,b,c)=>{"use strict";var d,e,f,g=a.r(47723),h=a.r(14747).extname,i=/^\s*([^;\s]*)(?:;|\s|$)/,j=/^text\//i;function k(a){if(!a||"string"!=typeof a)return!1;var b=i.exec(a),c=b&&g[b[1].toLowerCase()];return c&&c.charset?c.charset:!!(b&&j.test(b[1]))&&"UTF-8"}c.charset=k,c.charsets={lookup:k},c.contentType=function(a){if(!a||"string"!=typeof a)return!1;var b=-1===a.indexOf("/")?c.lookup(a):a;if(!b)return!1;if(-1===b.indexOf("charset")){var d=c.charset(b);d&&(b+="; charset="+d.toLowerCase())}return b},c.extension=function(a){if(!a||"string"!=typeof a)return!1;var b=i.exec(a),d=b&&c.extensions[b[1].toLowerCase()];return!!d&&!!d.length&&d[0]},c.extensions=Object.create(null),c.lookup=function(a){if(!a||"string"!=typeof a)return!1;var b=h("x."+a).toLowerCase().substr(1);return!!b&&(c.types[b]||!1)},c.types=Object.create(null),d=c.extensions,e=c.types,f=["nginx","apache",void 0,"iana"],Object.keys(g).forEach(function(a){var b=g[a],c=b.extensions;if(c&&c.length){d[a]=c;for(var h=0;h<c.length;h++){var i=c[h];if(e[i]){var j=f.indexOf(g[e[i]].source),k=f.indexOf(b.source);if("application/octet-stream"!==e[i]&&(j>k||j===k&&"application/"===e[i].substr(0,12)))continue}e[i]=a}}})},21681,(a,b,c)=>{b.exports=function(a){var b="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;b?b(a):setTimeout(a,0)}},43440,(a,b,c)=>{var d=a.r(21681);b.exports=function(a){var b=!1;return d(function(){b=!0}),function(c,e){b?a(c,e):d(function(){a(c,e)})}}},99206,(a,b,c)=>{b.exports=function(a){Object.keys(a.jobs).forEach(d.bind(a)),a.jobs={}};function d(a){"function"==typeof this.jobs[a]&&this.jobs[a]()}},99786,(a,b,c)=>{var d=a.r(43440),e=a.r(99206);b.exports=function(a,b,c,f){var g,h,i,j,k=c.keyedList?c.keyedList[c.index]:c.index;c.jobs[k]=(g=b,h=k,i=a[k],j=function(a,b){k in c.jobs&&(delete c.jobs[k],a?e(c):c.results[k]=b,f(a,c.results))},2==g.length?g(i,d(j)):g(i,h,d(j)))}},99747,(a,b,c)=>{b.exports=function(a,b){var c=!Array.isArray(a),d={index:0,keyedList:c||b?Object.keys(a):null,jobs:{},results:c?{}:[],size:c?Object.keys(a).length:a.length};return b&&d.keyedList.sort(c?b:function(c,d){return b(a[c],a[d])}),d}},40895,(a,b,c)=>{var d=a.r(99206),e=a.r(43440);b.exports=function(a){Object.keys(this.jobs).length&&(this.index=this.size,d(this),e(a)(null,this.results))}},96451,(a,b,c)=>{var d=a.r(99786),e=a.r(99747),f=a.r(40895);b.exports=function(a,b,c){for(var g=e(a);g.index<(g.keyedList||a).length;)d(a,b,g,function(a,b){a?c(a,b):0===Object.keys(g.jobs).length&&c(null,g.results)}),g.index++;return f.bind(g,c)}},9083,(a,b,c)=>{var d=a.r(99786),e=a.r(99747),f=a.r(40895);function g(a,b){return a<b?-1:+(a>b)}b.exports=function(a,b,c,g){var h=e(a,c);return d(a,b,h,function c(e,f){e?g(e,f):(h.index++,h.index<(h.keyedList||a).length)?d(a,b,h,c):g(null,h.results)}),f.bind(h,g)},b.exports.ascending=g,b.exports.descending=function(a,b){return -1*g(a,b)}},38743,(a,b,c)=>{var d=a.r(9083);b.exports=function(a,b,c){return d(a,b,null,c)}},77388,(a,b,c)=>{b.exports={parallel:a.r(96451),serial:a.r(38743),serialOrdered:a.r(9083)}},46303,(a,b,c)=>{"use strict";b.exports=Object},48974,(a,b,c)=>{"use strict";b.exports=Error},16830,(a,b,c)=>{"use strict";b.exports=EvalError},33877,(a,b,c)=>{"use strict";b.exports=RangeError},195,(a,b,c)=>{"use strict";b.exports=ReferenceError},42775,(a,b,c)=>{"use strict";b.exports=SyntaxError},28754,(a,b,c)=>{"use strict";b.exports=TypeError},56912,(a,b,c)=>{"use strict";b.exports=URIError},92778,(a,b,c)=>{"use strict";b.exports=Math.abs},18415,(a,b,c)=>{"use strict";b.exports=Math.floor},90363,(a,b,c)=>{"use strict";b.exports=Math.max},98768,(a,b,c)=>{"use strict";b.exports=Math.min},94841,(a,b,c)=>{"use strict";b.exports=Math.pow},77479,(a,b,c)=>{"use strict";b.exports=Math.round},85356,(a,b,c)=>{"use strict";b.exports=Number.isNaN||function(a){return a!=a}},11699,(a,b,c)=>{"use strict";var d=a.r(85356);b.exports=function(a){return d(a)||0===a?a:a<0?-1:1}},46884,(a,b,c)=>{"use strict";b.exports=Object.getOwnPropertyDescriptor},59885,(a,b,c)=>{"use strict";var d=a.r(46884);if(d)try{d([],"length")}catch(a){d=null}b.exports=d},93521,(a,b,c)=>{"use strict";var d=Object.defineProperty||!1;if(d)try{d({},"a",{value:1})}catch(a){d=!1}b.exports=d},32854,(a,b,c)=>{"use strict";b.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var a={},b=Symbol("test"),c=Object(b);if("string"==typeof b||"[object Symbol]"!==Object.prototype.toString.call(b)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;for(var d in a[b]=42,a)return!1;if("function"==typeof Object.keys&&0!==Object.keys(a).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(a).length)return!1;var e=Object.getOwnPropertySymbols(a);if(1!==e.length||e[0]!==b||!Object.prototype.propertyIsEnumerable.call(a,b))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(a,b);if(42!==f.value||!0!==f.enumerable)return!1}return!0}},32250,(a,b,c)=>{"use strict";var d="u">typeof Symbol&&Symbol,e=a.r(32854);b.exports=function(){return"function"==typeof d&&"function"==typeof Symbol&&"symbol"==typeof d("foo")&&"symbol"==typeof Symbol("bar")&&e()}},86200,(a,b,c)=>{"use strict";b.exports="u">typeof Reflect&&Reflect.getPrototypeOf||null},29958,(a,b,c)=>{"use strict";b.exports=a.r(46303).getPrototypeOf||null},20344,(a,b,c)=>{"use strict";var d=Object.prototype.toString,e=Math.max,f=function(a,b){for(var c=[],d=0;d<a.length;d+=1)c[d]=a[d];for(var e=0;e<b.length;e+=1)c[e+a.length]=b[e];return c},g=function(a,b){for(var c=[],d=b||0,e=0;d<a.length;d+=1,e+=1)c[e]=a[d];return c},h=function(a,b){for(var c="",d=0;d<a.length;d+=1)c+=a[d],d+1<a.length&&(c+=b);return c};b.exports=function(a){var b,c=this;if("function"!=typeof c||"[object Function]"!==d.apply(c))throw TypeError("Function.prototype.bind called on incompatible "+c);for(var i=g(arguments,1),j=e(0,c.length-i.length),k=[],l=0;l<j;l++)k[l]="$"+l;if(b=Function("binder","return function ("+h(k,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof b){var d=c.apply(this,f(i,arguments));return Object(d)===d?d:this}return c.apply(a,f(i,arguments))}),c.prototype){var m=function(){};m.prototype=c.prototype,b.prototype=new m,m.prototype=null}return b}},21843,(a,b,c)=>{"use strict";var d=a.r(20344);b.exports=Function.prototype.bind||d},46626,(a,b,c)=>{"use strict";b.exports=Function.prototype.call},85675,(a,b,c)=>{"use strict";b.exports=Function.prototype.apply},95948,(a,b,c)=>{"use strict";b.exports="u">typeof Reflect&&Reflect&&Reflect.apply},98928,(a,b,c)=>{"use strict";var d=a.r(21843),e=a.r(85675),f=a.r(46626);b.exports=a.r(95948)||d.call(f,e)},85943,(a,b,c)=>{"use strict";var d=a.r(21843),e=a.r(28754),f=a.r(46626),g=a.r(98928);b.exports=function(a){if(a.length<1||"function"!=typeof a[0])throw new e("a function is required");return g(d,f,a)}},66783,(a,b,c)=>{"use strict";var d,e=a.r(85943),f=a.r(59885);try{d=[].__proto__===Array.prototype}catch(a){if(!a||"object"!=typeof a||!("code"in a)||"ERR_PROTO_ACCESS"!==a.code)throw a}var g=!!d&&f&&f(Object.prototype,"__proto__"),h=Object,i=h.getPrototypeOf;b.exports=g&&"function"==typeof g.get?e([g.get]):"function"==typeof i&&function(a){return i(null==a?a:h(a))}},97223,(a,b,c)=>{"use strict";var d=a.r(86200),e=a.r(29958),f=a.r(66783);b.exports=d?function(a){return d(a)}:e?function(a){if(!a||"object"!=typeof a&&"function"!=typeof a)throw TypeError("getProto: not an object");return e(a)}:f?function(a){return f(a)}:null},85739,(a,b,c)=>{"use strict";var d=Function.prototype.call,e=Object.prototype.hasOwnProperty;b.exports=a.r(21843).call(d,e)},81697,(a,b,c)=>{"use strict";var d=a.r(46303),e=a.r(48974),f=a.r(16830),g=a.r(33877),h=a.r(195),i=a.r(42775),j=a.r(28754),k=a.r(56912),l=a.r(92778),m=a.r(18415),n=a.r(90363),o=a.r(98768),p=a.r(94841),q=a.r(77479),r=a.r(11699),s=Function,t=function(a){try{return s('"use strict"; return ('+a+").constructor;")()}catch(a){}},u=a.r(59885),v=a.r(93521),w=function(){throw new j},x=u?function(){try{return arguments.callee,w}catch(a){try{return u(arguments,"callee").get}catch(a){return w}}}():w,y=a.r(32250)(),z=a.r(97223),A=a.r(29958),B=a.r(86200),C=a.r(85675),D=a.r(46626),E={},F="u">typeof Uint8Array&&z?z(Uint8Array):void 0,G={__proto__:null,"%AggregateError%":"u"<typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"u"<typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":y&&z?z([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"u"<typeof Atomics?void 0:Atomics,"%BigInt%":"u"<typeof BigInt?void 0:BigInt,"%BigInt64Array%":"u"<typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"u"<typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"u"<typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":f,"%Float16Array%":"u"<typeof Float16Array?void 0:Float16Array,"%Float32Array%":"u"<typeof Float32Array?void 0:Float32Array,"%Float64Array%":"u"<typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"u"<typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":E,"%Int8Array%":"u"<typeof Int8Array?void 0:Int8Array,"%Int16Array%":"u"<typeof Int16Array?void 0:Int16Array,"%Int32Array%":"u"<typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&z?z(z([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"u"<typeof Map?void 0:Map,"%MapIteratorPrototype%":"u">typeof Map&&y&&z?z(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":d,"%Object.getOwnPropertyDescriptor%":u,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"u"<typeof Promise?void 0:Promise,"%Proxy%":"u"<typeof Proxy?void 0:Proxy,"%RangeError%":g,"%ReferenceError%":h,"%Reflect%":"u"<typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"u"<typeof Set?void 0:Set,"%SetIteratorPrototype%":"u">typeof Set&&y&&z?z(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"u"<typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&z?z(""[Symbol.iterator]()):void 0,"%Symbol%":y?Symbol:void 0,"%SyntaxError%":i,"%ThrowTypeError%":x,"%TypedArray%":F,"%TypeError%":j,"%Uint8Array%":"u"<typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"u"<typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"u"<typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"u"<typeof Uint32Array?void 0:Uint32Array,"%URIError%":k,"%WeakMap%":"u"<typeof WeakMap?void 0:WeakMap,"%WeakRef%":"u"<typeof WeakRef?void 0:WeakRef,"%WeakSet%":"u"<typeof WeakSet?void 0:WeakSet,"%Function.prototype.call%":D,"%Function.prototype.apply%":C,"%Object.defineProperty%":v,"%Object.getPrototypeOf%":A,"%Math.abs%":l,"%Math.floor%":m,"%Math.max%":n,"%Math.min%":o,"%Math.pow%":p,"%Math.round%":q,"%Math.sign%":r,"%Reflect.getPrototypeOf%":B};if(z)try{null.error}catch(a){var H=z(z(a));G["%Error.prototype%"]=H}var I=function a(b){var c;if("%AsyncFunction%"===b)c=t("async function () {}");else if("%GeneratorFunction%"===b)c=t("function* () {}");else if("%AsyncGeneratorFunction%"===b)c=t("async function* () {}");else if("%AsyncGenerator%"===b){var d=a("%AsyncGeneratorFunction%");d&&(c=d.prototype)}else if("%AsyncIteratorPrototype%"===b){var e=a("%AsyncGenerator%");e&&z&&(c=z(e.prototype))}return G[b]=c,c},J={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},K=a.r(21843),L=a.r(85739),M=K.call(D,Array.prototype.concat),N=K.call(C,Array.prototype.splice),O=K.call(D,String.prototype.replace),P=K.call(D,String.prototype.slice),Q=K.call(D,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,T=function(a){var b=P(a,0,1),c=P(a,-1);if("%"===b&&"%"!==c)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===c&&"%"!==b)throw new i("invalid intrinsic syntax, expected opening `%`");var d=[];return O(a,R,function(a,b,c,e){d[d.length]=c?O(e,S,"$1"):b||a}),d},U=function(a,b){var c,d=a;if(L(J,d)&&(d="%"+(c=J[d])[0]+"%"),L(G,d)){var e=G[d];if(e===E&&(e=I(d)),void 0===e&&!b)throw new j("intrinsic "+a+" exists, but is not available. Please file an issue!");return{alias:c,name:d,value:e}}throw new i("intrinsic "+a+" does not exist!")};b.exports=function(a,b){if("string"!=typeof a||0===a.length)throw new j("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof b)throw new j('"allowMissing" argument must be a boolean');if(null===Q(/^%?[^%]*%?$/,a))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var c=T(a),d=c.length>0?c[0]:"",e=U("%"+d+"%",b),f=e.name,g=e.value,h=!1,k=e.alias;k&&(d=k[0],N(c,M([0,1],k)));for(var l=1,m=!0;l<c.length;l+=1){var n=c[l],o=P(n,0,1),p=P(n,-1);if(('"'===o||"'"===o||"`"===o||'"'===p||"'"===p||"`"===p)&&o!==p)throw new i("property names with quotes must have matching quotes");if("constructor"!==n&&m||(h=!0),d+="."+n,L(G,f="%"+d+"%"))g=G[f];else if(null!=g){if(!(n in g)){if(!b)throw new j("base intrinsic for "+a+" exists, but the property is not available.");return}if(u&&l+1>=c.length){var q=u(g,n);g=(m=!!q)&&"get"in q&&!("originalValue"in q.get)?q.get:g[n]}else m=L(g,n),g=g[n];m&&!h&&(G[f]=g)}}return g}},96744,(a,b,c)=>{"use strict";var d=a.r(32854);b.exports=function(){return d()&&!!Symbol.toStringTag}},83166,(a,b,c)=>{"use strict";var d=a.r(81697)("%Object.defineProperty%",!0),e=a.r(96744)(),f=a.r(85739),g=a.r(28754),h=e?Symbol.toStringTag:null;b.exports=function(a,b){var c=arguments.length>2&&!!arguments[2]&&arguments[2].force,e=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(void 0!==c&&"boolean"!=typeof c||void 0!==e&&"boolean"!=typeof e)throw new g("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");h&&(c||!f(a,h))&&(d?d(a,h,{configurable:!e,enumerable:!1,value:b,writable:!1}):a[h]=b)}},40625,(a,b,c)=>{"use strict";b.exports=function(a,b){return Object.keys(b).forEach(function(c){a[c]=a[c]||b[c]}),a}},81275,(a,b,c)=>{"use strict";var d=a.r(48803),e=a.r(24361),f=a.r(14747),g=a.r(21517),h=a.r(24836),i=a.r(92509).parse,j=a.r(22734),k=a.r(88947).Stream,l=a.r(54799),m=a.r(38201),n=a.r(77388),o=a.r(83166),p=a.r(85739),q=a.r(40625);function r(a){if(!(this instanceof r))return new r(a);for(var b in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],d.call(this),a=a||{})this[b]=a[b]}e.inherits(r,d),r.LINE_BREAK="\r\n",r.DEFAULT_CONTENT_TYPE="application/octet-stream",r.prototype.append=function(a,b,c){"string"==typeof(c=c||{})&&(c={filename:c});var e=d.prototype.append.bind(this);if(("number"==typeof b||null==b)&&(b=String(b)),Array.isArray(b))return void this._error(Error("Arrays are not supported."));var f=this._multiPartHeader(a,b,c),g=this._multiPartFooter();e(f),e(b),e(g),this._trackLength(f,b,c)},r.prototype._trackLength=function(a,b,c){var d=0;null!=c.knownLength?d+=Number(c.knownLength):Buffer.isBuffer(b)?d=b.length:"string"==typeof b&&(d=Buffer.byteLength(b)),this._valueLength+=d,this._overheadLength+=Buffer.byteLength(a)+r.LINE_BREAK.length,b&&(b.path||b.readable&&p(b,"httpVersion")||b instanceof k)&&(c.knownLength||this._valuesToMeasure.push(b))},r.prototype._lengthRetriever=function(a,b){p(a,"fd")?void 0!=a.end&&a.end!=1/0&&void 0!=a.start?b(null,a.end+1-(a.start?a.start:0)):j.stat(a.path,function(c,d){c?b(c):b(null,d.size-(a.start?a.start:0))}):p(a,"httpVersion")?b(null,Number(a.headers["content-length"])):p(a,"httpModule")?(a.on("response",function(c){a.pause(),b(null,Number(c.headers["content-length"]))}),a.resume()):b("Unknown stream")},r.prototype._multiPartHeader=function(a,b,c){if("string"==typeof c.header)return c.header;var d,e=this._getContentDisposition(b,c),f=this._getContentType(b,c),g="",h={"Content-Disposition":["form-data",'name="'+a+'"'].concat(e||[]),"Content-Type":[].concat(f||[])};for(var i in"object"==typeof c.header&&q(h,c.header),h)if(p(h,i)){if(null==(d=h[i]))continue;Array.isArray(d)||(d=[d]),d.length&&(g+=i+": "+d.join("; ")+r.LINE_BREAK)}return"--"+this.getBoundary()+r.LINE_BREAK+g+r.LINE_BREAK},r.prototype._getContentDisposition=function(a,b){var c;if("string"==typeof b.filepath?c=f.normalize(b.filepath).replace(/\\/g,"/"):b.filename||a&&(a.name||a.path)?c=f.basename(b.filename||a&&(a.name||a.path)):a&&a.readable&&p(a,"httpVersion")&&(c=f.basename(a.client._httpMessage.path||"")),c)return'filename="'+c+'"'},r.prototype._getContentType=function(a,b){var c=b.contentType;return!c&&a&&a.name&&(c=m.lookup(a.name)),!c&&a&&a.path&&(c=m.lookup(a.path)),!c&&a&&a.readable&&p(a,"httpVersion")&&(c=a.headers["content-type"]),!c&&(b.filepath||b.filename)&&(c=m.lookup(b.filepath||b.filename)),!c&&a&&"object"==typeof a&&(c=r.DEFAULT_CONTENT_TYPE),c},r.prototype._multiPartFooter=function(){return(function(a){var b=r.LINE_BREAK;0===this._streams.length&&(b+=this._lastBoundary()),a(b)}).bind(this)},r.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+r.LINE_BREAK},r.prototype.getHeaders=function(a){var b,c={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(b in a)p(a,b)&&(c[b.toLowerCase()]=a[b]);return c},r.prototype.setBoundary=function(a){if("string"!=typeof a)throw TypeError("FormData boundary must be a string");this._boundary=a},r.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},r.prototype.getBuffer=function(){for(var a=new Buffer.alloc(0),b=this.getBoundary(),c=0,d=this._streams.length;c<d;c++)"function"!=typeof this._streams[c]&&(a=Buffer.isBuffer(this._streams[c])?Buffer.concat([a,this._streams[c]]):Buffer.concat([a,Buffer.from(this._streams[c])]),("string"!=typeof this._streams[c]||this._streams[c].substring(2,b.length+2)!==b)&&(a=Buffer.concat([a,Buffer.from(r.LINE_BREAK)])));return Buffer.concat([a,Buffer.from(this._lastBoundary())])},r.prototype._generateBoundary=function(){this._boundary="--------------------------"+l.randomBytes(12).toString("hex")},r.prototype.getLengthSync=function(){var a=this._overheadLength+this._valueLength;return this._streams.length&&(a+=this._lastBoundary().length),this.hasKnownLength()||this._error(Error("Cannot calculate proper length in synchronous way.")),a},r.prototype.hasKnownLength=function(){var a=!0;return this._valuesToMeasure.length&&(a=!1),a},r.prototype.getLength=function(a){var b=this._overheadLength+this._valueLength;(this._streams.length&&(b+=this._lastBoundary().length),this._valuesToMeasure.length)?n.parallel(this._valuesToMeasure,this._lengthRetriever,function(c,d){c?a(c):(d.forEach(function(a){b+=a}),a(null,b))}):process.nextTick(a.bind(this,null,b))},r.prototype.submit=function(a,b){var c,d,e={method:"post"};return"string"==typeof a?d=q({port:(a=i(a)).port,path:a.pathname,host:a.hostname,protocol:a.protocol},e):(d=q(a,e)).port||(d.port="https:"===d.protocol?443:80),d.headers=this.getHeaders(a.headers),c="https:"===d.protocol?h.request(d):g.request(d),this.getLength((function(a,d){if(a&&"Unknown stream"!==a)return void this._error(a);if(d&&c.setHeader("Content-Length",d),this.pipe(c),b){var e,f=function(a,d){return c.removeListener("error",f),c.removeListener("response",e),b.call(this,a,d)};e=f.bind(this,null),c.on("error",f),c.on("response",e)}}).bind(this)),c},r.prototype._error=function(a){this.error||(this.error=a,this.pause(),this.emit("error",a))},r.prototype.toString=function(){return"[object FormData]"},o(r.prototype,"FormData"),b.exports=r},94435,(a,b,c)=>{"use strict";var d=a.r(92509).parse,e={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},f=String.prototype.endsWith||function(a){return a.length<=this.length&&-1!==this.indexOf(a,this.length-a.length)};function g(a){return process.env[a.toLowerCase()]||process.env[a.toUpperCase()]||""}c.getProxyForUrl=function(a){var b,c,h,i="string"==typeof a?d(a):a||{},j=i.protocol,k=i.host,l=i.port;if("string"!=typeof k||!k||"string"!=typeof j)return"";if(j=j.split(":",1)[0],b=k=k.replace(/:\d*$/,""),c=l=parseInt(l)||e[j]||0,!(!(h=(g("npm_config_no_proxy")||g("no_proxy")).toLowerCase())||"*"!==h&&h.split(/[,\s]/).every(function(a){if(!a)return!0;var d=a.match(/^(.+):(\d+)$/),e=d?d[1]:a,g=d?parseInt(d[2]):0;return!!g&&g!==c||(/^[.*]/.test(e)?("*"===e.charAt(0)&&(e=e.slice(1)),!f.call(b,e)):b!==e)})))return"";var m=g("npm_config_"+j+"_proxy")||g(j+"_proxy")||g("npm_config_proxy")||g("all_proxy");return m&&-1===m.indexOf("://")&&(m=j+"://"+m),m}},84425,(a,b,c)=>{function d(a,b,c,d){return Math.round(a/c)+" "+d+(b>=1.5*c?"s":"")}b.exports=function(a,b){b=b||{};var c,e,f,g,h=typeof a;if("string"===h&&a.length>0){var i=a;if(!((i=String(i)).length>100)){var j=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(j){var k=parseFloat(j[1]);switch((j[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*k;case"weeks":case"week":case"w":return 6048e5*k;case"days":case"day":case"d":return 864e5*k;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*k;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*k;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*k;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return k;default:break}}}return}if("number"===h&&isFinite(a)){return b.long?(e=Math.abs(c=a))>=864e5?d(c,e,864e5,"day"):e>=36e5?d(c,e,36e5,"hour"):e>=6e4?d(c,e,6e4,"minute"):e>=1e3?d(c,e,1e3,"second"):c+" ms":(g=Math.abs(f=a))>=864e5?Math.round(f/864e5)+"d":g>=36e5?Math.round(f/36e5)+"h":g>=6e4?Math.round(f/6e4)+"m":g>=1e3?Math.round(f/1e3)+"s":f+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},11017,(a,b,c)=>{b.exports=function(b){function c(a){let b,e,f,g=null;function h(...a){if(!h.enabled)return;let d=Number(new Date);h.diff=d-(b||d),h.prev=b,h.curr=d,b=d,a[0]=c.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");let e=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(b,d)=>{if("%%"===b)return"%";e++;let f=c.formatters[d];if("function"==typeof f){let c=a[e];b=f.call(h,c),a.splice(e,1),e--}return b}),c.formatArgs.call(h,a),(h.log||c.log).apply(h,a)}return h.namespace=a,h.useColors=c.useColors(),h.color=c.selectColor(a),h.extend=d,h.destroy=c.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==g?g:(e!==c.namespaces&&(e=c.namespaces,f=c.enabled(a)),f),set:a=>{g=a}}),"function"==typeof c.init&&c.init(h),h}function d(a,b){let d=c(this.namespace+(void 0===b?":":b)+a);return d.log=this.log,d}function e(a,b){let c=0,d=0,e=-1,f=0;for(;c<a.length;)if(d<b.length&&(b[d]===a[c]||"*"===b[d]))"*"===b[d]?(e=d,f=c):c++,d++;else{if(-1===e)return!1;d=e+1,c=++f}for(;d<b.length&&"*"===b[d];)d++;return d===b.length}return c.debug=c,c.default=c,c.coerce=function(a){return a instanceof Error?a.stack||a.message:a},c.disable=function(){let a=[...c.names,...c.skips.map(a=>"-"+a)].join(",");return c.enable(""),a},c.enable=function(a){for(let b of(c.save(a),c.namespaces=a,c.names=[],c.skips=[],("string"==typeof a?a:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===b[0]?c.skips.push(b.slice(1)):c.names.push(b)},c.enabled=function(a){for(let b of c.skips)if(e(a,b))return!1;for(let b of c.names)if(e(a,b))return!0;return!1},c.humanize=a.r(84425),c.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(b).forEach(a=>{c[a]=b[a]}),c.names=[],c.skips=[],c.formatters={},c.selectColor=function(a){let b=0;for(let c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c)|0;return c.colors[Math.abs(b)%c.colors.length]},c.enable(c.load()),c}},81454,(a,b,c)=>{let d=a.r(70722),e=a.r(24361);c.init=function(a){a.inspectOpts={};let b=Object.keys(c.inspectOpts);for(let d=0;d<b.length;d++)a.inspectOpts[b[d]]=c.inspectOpts[b[d]]},c.log=function(...a){return process.stderr.write(e.formatWithOptions(c.inspectOpts,...a)+"\n")},c.formatArgs=function(a){let{namespace:d,useColors:e}=this;if(e){let c=this.color,e="\x1b[3"+(c<8?c:"8;5;"+c),f=`  ${e};1m${d} \u001B[0m`;a[0]=f+a[0].split("\n").join("\n"+f),a.push(e+"m+"+b.exports.humanize(this.diff)+"\x1b[0m")}else a[0]=(c.inspectOpts.hideDate?"":new Date().toISOString()+" ")+d+" "+a[0]},c.save=function(a){a?process.env.DEBUG=a:delete process.env.DEBUG},c.load=function(){return process.env.DEBUG},c.useColors=function(){return"colors"in c.inspectOpts?!!c.inspectOpts.colors:d.isatty(process.stderr.fd)},c.destroy=e.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),c.colors=[6,2,3,4,5,1];try{let a=(()=>{let a=Error("Cannot find module 'supports-color'");throw a.code="MODULE_NOT_FOUND",a})();a&&(a.stderr||a).level>=2&&(c.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(a){}c.inspectOpts=Object.keys(process.env).filter(a=>/^debug_/i.test(a)).reduce((a,b)=>{let c=b.substring(6).toLowerCase().replace(/_([a-z])/g,(a,b)=>b.toUpperCase()),d=process.env[b];return d=!!/^(yes|on|true|enabled)$/i.test(d)||!/^(no|off|false|disabled)$/i.test(d)&&("null"===d?null:Number(d)),a[c]=d,a},{}),b.exports=a.r(11017)(c);let{formatters:f}=b.exports;f.o=function(a){return this.inspectOpts.colors=this.useColors,e.inspect(a,this.inspectOpts).split("\n").map(a=>a.trim()).join(" ")},f.O=function(a){return this.inspectOpts.colors=this.useColors,e.inspect(a,this.inspectOpts)}},47522,(a,b,c)=>{let d;c.formatArgs=function(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+b.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;a.splice(1,0,c,"color: inherit");let d=0,e=0;a[0].replace(/%[a-zA-Z%]/g,a=>{"%%"!==a&&(d++,"%c"===a&&(e=d))}),a.splice(e,0,c)},c.save=function(a){try{a?c.storage.setItem("debug",a):c.storage.removeItem("debug")}catch(a){}},c.load=function(){let a;try{a=c.storage.getItem("debug")||c.storage.getItem("DEBUG")}catch(a){}return!a&&"u">typeof process&&"env"in process&&(a=process.env.DEBUG),a},c.useColors=function(){let a;return!("u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("u">typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"u">typeof navigator&&navigator.userAgent&&(a=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(a[1],10)>=31||"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},c.storage=function(){try{return localStorage}catch(a){}}(),d=!1,c.destroy=()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))},c.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],c.log=console.debug||console.log||(()=>{}),b.exports=a.r(11017)(c);let{formatters:e}=b.exports;e.j=function(a){try{return JSON.stringify(a)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}},35290,(a,b,c)=>{"u"<typeof process||"renderer"===process.type||process.__nwjs?b.exports=a.r(47522):b.exports=a.r(81454)},36263,(a,b,c)=>{var d;b.exports=function(){if(!d){try{d=a.r(35290)("follow-redirects")}catch(a){}"function"!=typeof d&&(d=function(){})}d.apply(null,arguments)}},84803,(a,b,c)=>{var d,e,f=a.r(92509),g=f.URL,h=a.r(21517),i=a.r(24836),j=a.r(88947).Writable,k=a.r(49719),l=a.r(36263);d="u">typeof process,e=G(Error.captureStackTrace),d||e||console.warn("The follow-redirects package should be excluded from browser builds.");var m=!1;try{k(new g(""))}catch(a){m="ERR_INVALID_URL"===a.code}var n=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],o=["abort","aborted","connect","error","socket","timeout"],p=Object.create(null);o.forEach(function(a){p[a]=function(b,c,d){this._redirectable.emit(a,b,c,d)}});var q=D("ERR_INVALID_URL","Invalid URL",TypeError),r=D("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),s=D("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",r),t=D("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),u=D("ERR_STREAM_WRITE_AFTER_END","write after end"),v=j.prototype.destroy||y;function w(a,b){j.call(this),this._sanitizeOptions(a),this._options=a,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],b&&this.on("response",b);var c=this;this._onNativeResponse=function(a){try{c._processResponse(a)}catch(a){c.emit("error",a instanceof r?a:new r({cause:a}))}},this._performRequest()}function x(a){var b={maxRedirects:21,maxBodyLength:0xa00000},c={};return Object.keys(a).forEach(function(d){var e=d+":",f=c[e]=a[d],h=b[d]=Object.create(f);Object.defineProperties(h,{request:{value:function(a,d,f){var h;return(h=a,g&&h instanceof g)?a=B(a):F(a)?a=B(z(a)):(f=d,d=A(a),a={protocol:e}),G(d)&&(f=d,d=null),(d=Object.assign({maxRedirects:b.maxRedirects,maxBodyLength:b.maxBodyLength},a,d)).nativeProtocols=c,F(d.host)||F(d.hostname)||(d.hostname="::1"),k.equal(d.protocol,e,"protocol mismatch"),l("options",d),new w(d,f)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(a,b,c){var d=h.request(a,b,c);return d.end(),d},configurable:!0,enumerable:!0,writable:!0}})}),b}function y(){}function z(a){var b;if(m)b=new g(a);else if(!F((b=A(f.parse(a))).protocol))throw new q({input:a});return b}function A(a){if(/^\[/.test(a.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(a.hostname)||/^\[/.test(a.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(a.host))throw new q({input:a.href||a});return a}function B(a,b){var c=b||{};for(var d of n)c[d]=a[d];return c.hostname.startsWith("[")&&(c.hostname=c.hostname.slice(1,-1)),""!==c.port&&(c.port=Number(c.port)),c.path=c.search?c.pathname+c.search:c.pathname,c}function C(a,b){var c;for(var d in b)a.test(d)&&(c=b[d],delete b[d]);return null==c?void 0:String(c).trim()}function D(a,b,c){function d(c){G(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,c||{}),this.code=a,this.message=this.cause?b+": "+this.cause.message:b}return d.prototype=new(c||Error),Object.defineProperties(d.prototype,{constructor:{value:d,enumerable:!1},name:{value:"Error ["+a+"]",enumerable:!1}}),d}function E(a,b){for(var c of o)a.removeListener(c,p[c]);a.on("error",y),a.destroy(b)}function F(a){return"string"==typeof a||a instanceof String}function G(a){return"function"==typeof a}w.prototype=Object.create(j.prototype),w.prototype.abort=function(){E(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},w.prototype.destroy=function(a){return E(this._currentRequest,a),v.call(this,a),this},w.prototype.write=function(a,b,c){var d;if(this._ending)throw new u;if(!F(a)&&!("object"==typeof(d=a)&&"length"in d))throw TypeError("data should be a string, Buffer or Uint8Array");if(G(b)&&(c=b,b=null),0===a.length){c&&c();return}this._requestBodyLength+a.length<=this._options.maxBodyLength?(this._requestBodyLength+=a.length,this._requestBodyBuffers.push({data:a,encoding:b}),this._currentRequest.write(a,b,c)):(this.emit("error",new t),this.abort())},w.prototype.end=function(a,b,c){if(G(a)?(c=a,a=b=null):G(b)&&(c=b,b=null),a){var d=this,e=this._currentRequest;this.write(a,b,function(){d._ended=!0,e.end(null,null,c)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,c)},w.prototype.setHeader=function(a,b){this._options.headers[a]=b,this._currentRequest.setHeader(a,b)},w.prototype.removeHeader=function(a){delete this._options.headers[a],this._currentRequest.removeHeader(a)},w.prototype.setTimeout=function(a,b){var c=this;function d(b){b.setTimeout(a),b.removeListener("timeout",b.destroy),b.addListener("timeout",b.destroy)}function e(b){c._timeout&&clearTimeout(c._timeout),c._timeout=setTimeout(function(){c.emit("timeout"),f()},a),d(b)}function f(){c._timeout&&(clearTimeout(c._timeout),c._timeout=null),c.removeListener("abort",f),c.removeListener("error",f),c.removeListener("response",f),c.removeListener("close",f),b&&c.removeListener("timeout",b),c.socket||c._currentRequest.removeListener("socket",e)}return b&&this.on("timeout",b),this.socket?e(this.socket):this._currentRequest.once("socket",e),this.on("socket",d),this.on("abort",f),this.on("error",f),this.on("response",f),this.on("close",f),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(a){w.prototype[a]=function(b,c){return this._currentRequest[a](b,c)}}),["aborted","connection","socket"].forEach(function(a){Object.defineProperty(w.prototype,a,{get:function(){return this._currentRequest[a]}})}),w.prototype._sanitizeOptions=function(a){if(a.headers||(a.headers={}),a.host&&(a.hostname||(a.hostname=a.host),delete a.host),!a.pathname&&a.path){var b=a.path.indexOf("?");b<0?a.pathname=a.path:(a.pathname=a.path.substring(0,b),a.search=a.path.substring(b))}},w.prototype._performRequest=function(){var a=this._options.protocol,b=this._options.nativeProtocols[a];if(!b)throw TypeError("Unsupported protocol "+a);if(this._options.agents){var c=a.slice(0,-1);this._options.agent=this._options.agents[c]}var d=this._currentRequest=b.request(this._options,this._onNativeResponse);for(var e of(d._redirectable=this,o))d.on(e,p[e]);if(this._currentUrl=/^\//.test(this._options.path)?f.format(this._options):this._options.path,this._isRedirect){var g=0,h=this,i=this._requestBodyBuffers;!function a(b){if(d===h._currentRequest)if(b)h.emit("error",b);else if(g<i.length){var c=i[g++];d.finished||d.write(c.data,c.encoding,a)}else h._ended&&d.end()}()}},w.prototype._processResponse=function(a){var b,c,d,e,h,i,j=a.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:a.headers,statusCode:j});var n=a.headers.location;if(!n||!1===this._options.followRedirects||j<300||j>=400){a.responseUrl=this._currentUrl,a.redirects=this._redirects,this.emit("response",a),this._requestBodyBuffers=[];return}if(E(this._currentRequest),a.destroy(),++this._redirectCount>this._options.maxRedirects)throw new s;var o=this._options.beforeRedirect;o&&(i=Object.assign({Host:a.req.getHeader("host")},this._options.headers));var p=this._options.method;(301!==j&&302!==j||"POST"!==this._options.method)&&(303!==j||/^(?:GET|HEAD)$/.test(this._options.method))||(this._options.method="GET",this._requestBodyBuffers=[],C(/^content-/i,this._options.headers));var q=C(/^host$/i,this._options.headers),r=z(this._currentUrl),t=q||r.host,u=/^\w+:/.test(n)?this._currentUrl:f.format(Object.assign(r,{host:t})),v=(b=n,c=u,m?new g(b,c):z(f.resolve(c,b)));if(l("redirecting to",v.href),this._isRedirect=!0,B(v,this._options),(v.protocol===r.protocol||"https:"===v.protocol)&&(v.host===t||(d=v.host,e=t,k(F(d)&&F(e)),(h=d.length-e.length-1)>0&&"."===d[h]&&d.endsWith(e)))||C(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),G(o)){var w={headers:a.headers,statusCode:j},x={url:u,method:p,headers:i};o(this._options,w,x),this._sanitizeOptions(this._options)}this._performRequest()},b.exports=x({http:h,https:i}),b.exports.wrap=x},40777,a=>{"use strict";let b,c,d,e;var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=a.i(87924),I=a.i(72131);let J=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim(),K=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)};var L={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let M=(0,I.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:e="",children:f,iconNode:g,...h},i)=>(0,I.createElement)("svg",{ref:i,...L,width:b,height:b,stroke:a,strokeWidth:d?24*Number(c)/Number(b):c,className:J("lucide",e),...!f&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0;return!1})(h)&&{"aria-hidden":"true"},...h},[...g.map(([a,b])=>(0,I.createElement)(a,b)),...Array.isArray(f)?f:[f]])),N=(a,b)=>{let c=(0,I.forwardRef)(({className:c,...d},e)=>(0,I.createElement)(M,{ref:e,iconNode:b,className:J(`lucide-${K(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,c),...d}));return c.displayName=K(a),c},O=N("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),P=N("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Q=N("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),R=N("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),S=N("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),T=N("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),U=N("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),V=N("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),W=N("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),X=N("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Y=N("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Z=N("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),$=N("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),_=N("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),aa=[{id:"metadata",label:"Business Metadata",icon:O},{id:"services",label:"Services",icon:P},{id:"locations",label:"Locations",icon:Q},{id:"resources",label:"Resources",icon:R},{id:"data",label:"User Data Fields",icon:S},{id:"integrations",label:"System Integrations",icon:T},{id:"conversation",label:"Behavior Rules",icon:U},{id:"safety",label:"Safety & Boundaries",icon:V},{id:"mode",label:"Operation Modes",icon:W},{id:"vapi",label:"VAPI Setup",icon:W}],ab=({activeSection:a,onNavigate:b,onLock:c,onLaunchClient:d,isValid:e,isSaving:f,isLocked:g,isLaunching:h,agents:i,onSelectAgent:j,branding:k,currentAgentId:l})=>(0,H.jsxs)("aside",{className:"w-64 bg-slate-900 text-slate-300 flex flex-col h-screen fixed left-0 top-0 overflow-y-auto border-r border-slate-800",children:[(0,H.jsxs)("div",{className:"p-6 border-b border-slate-800",children:[(0,H.jsxs)("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[k?.logoUrl?(0,H.jsx)("img",{src:k.logoUrl,alt:"Logo",className:"w-8 h-8 object-contain"}):(0,H.jsx)("div",{className:"w-8 h-8 bg-brand-600 rounded-lg flex items-center justify-center",children:(0,H.jsx)(W,{className:"w-5 h-5 text-white"})}),k?.appName||"Voice Admin"]}),(0,H.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Configurator v1.0"})]}),i.length>0&&(0,H.jsxs)("div",{className:"px-6 py-4 border-b border-slate-800 bg-slate-900/50",children:[(0,H.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 mb-2 block",children:"Organization Agents"}),(0,H.jsx)("div",{className:"space-y-1",children:i.map(a=>(0,H.jsxs)("button",{onClick:()=>j(a.id),className:`w-full text-left px-2 py-1.5 rounded text-xs transition-colors flex items-center gap-2 ${a.id===l?"bg-slate-800 text-white font-medium border border-slate-700":"text-slate-400 hover:text-slate-200 hover:bg-slate-800/50"}`,children:[(0,H.jsx)(_,{className:"w-3 h-3 text-brand-500"}),(0,H.jsx)("span",{className:"truncate",children:a.metadata?.businessName||a.id})]},a.id))})]}),(0,H.jsx)("nav",{className:"flex-1 py-4",children:(0,H.jsx)("ul",{className:"space-y-1",children:aa.map(c=>{let d=c.icon,e=a===c.id;return(0,H.jsx)("li",{children:(0,H.jsxs)("button",{onClick:()=>b(c.id),className:`w-full flex items-center gap-3 px-6 py-3 text-sm font-medium transition-colors ${e?"bg-brand-900/30 text-brand-500 border-r-2 border-brand-500":"hover:bg-slate-800 hover:text-white"}`,children:[(0,H.jsx)(d,{className:`w-4 h-4 ${e?"text-brand-500":"text-slate-500"}`}),c.label]})},c.id)})})}),(0,H.jsxs)("div",{className:"p-6 border-t border-slate-800 space-y-3",children:[(0,H.jsxs)("button",{onClick:d,disabled:h,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold bg-slate-800 text-indigo-400 hover:bg-slate-700 hover:text-indigo-300 border border-slate-700 transition-all disabled:opacity-70 disabled:cursor-wait",title:"Open Live Agent Interface",children:[h?(0,H.jsx)(Z,{className:"w-4 h-4 animate-spin"}):(0,H.jsx)($,{className:"w-4 h-4"}),h?"Launching...":"Launch Web Client"]}),(0,H.jsxs)("button",{onClick:c,disabled:!e||f||g,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-all ${e&&!g?"bg-emerald-600 hover:bg-emerald-500 text-white shadow-lg shadow-emerald-900/20":"bg-slate-800 text-slate-500 cursor-not-allowed"} ${f?"opacity-80 cursor-wait":""}`,children:[f?(0,H.jsx)(Z,{className:"w-4 h-4 animate-spin"}):e&&!g?(0,H.jsx)(X,{className:"w-4 h-4"}):(0,H.jsx)(Y,{className:"w-4 h-4"}),f?"Saving...":e&&!g?"Validate & Lock":g?"Locked":"Incomplete"]})]})]}),ac=N("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ad=N("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ae=N("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),af=N("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ag=N("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ah=N("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ai=({onLogin:a,onDemoLogin:b,isLoggingIn:c})=>{let[d,e]=(0,I.useState)(null),f=async()=>{e(null);try{await a()}catch(a){e(a.message||"Failed to sign in")}},g=d&&(d.includes("CONFIGURATION_ERROR")||d.includes("api-key-not-valid")),h=d&&(d.includes("DOMAIN_NOT_ALLOWED")||d.includes("unauthorized-domain")),i=d&&(d.includes("AUTH_ERROR")||d.includes("operation-not-allowed")),j=d&&d.includes("Login cancelled"),k=d&&(d.includes("API_KEY_ERROR")||d.includes("api-key-not-valid")),l="https://ai-voice-agent-c2a2b.firebaseapp.com/__/auth/handler";return(0,H.jsxs)("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[(0,H.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 opacity-20 pointer-events-none",children:[(0,H.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-brand-600 rounded-full blur-[128px]"}),(0,H.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-600 rounded-full blur-[128px]"})]}),(0,H.jsxs)("div",{className:`w-full ${g||h||i||j||k?"max-w-2xl":"max-w-md"} bg-slate-800/80 backdrop-blur-xl border border-slate-700 rounded-2xl shadow-2xl p-8 z-10 transition-all duration-300`,children:[(0,H.jsx)("div",{className:"flex justify-center mb-8",children:(0,H.jsx)("div",{className:"w-16 h-16 bg-brand-600 rounded-xl flex items-center justify-center shadow-lg shadow-brand-900/50",children:(0,H.jsx)(W,{className:"w-8 h-8 text-white"})})}),(0,H.jsxs)("div",{className:"text-center mb-8",children:[(0,H.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Voice AI Admin"}),(0,H.jsx)("p",{className:"text-slate-400",children:"Sign in to configure your AI Agents"})]}),d&&(0,H.jsxs)("div",{className:"mb-6 rounded-lg overflow-hidden border border-red-800 bg-red-900/20",children:[(0,H.jsxs)("div",{className:"p-4 flex items-start gap-3 bg-red-900/30",children:[(0,H.jsx)(ae,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,H.jsx)("p",{className:"text-sm text-red-200 font-medium break-words",children:g?"Configuration Required":h?"Domain Not Authorized":i?"Provider Not Enabled":k?"API Key Rejected":j?"Login Cancelled / Blocked":d})]}),j&&(0,H.jsxs)("div",{className:"p-4 bg-slate-950/50 text-left border-t border-red-800/50 space-y-4",children:[(0,H.jsxs)("div",{children:[(0,H.jsxs)("p",{className:"text-sm text-white font-semibold flex items-center gap-2",children:[(0,H.jsx)(ah,{className:"w-4 h-4 text-brand-400"}),'Fixing "redirect_uri_mismatch"']}),(0,H.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:'If you saw "Error updating Google" in Firebase Console, follow these steps instead of trying to fix Firebase.'})]}),(0,H.jsxs)("ol",{className:"text-xs text-slate-300 space-y-3 list-decimal pl-4",children:[(0,H.jsxs)("li",{children:["Go to ",(0,H.jsx)("a",{href:"https://console.cloud.google.com/apis/credentials?project=ai-voice-agent-c2a2b",target:"_blank",className:"text-brand-400 hover:underline",children:"Google Cloud Console > Credentials"}),"."]}),(0,H.jsxs)("li",{children:["Find the client named ",(0,H.jsx)("strong",{children:'"Web client (auto created by Google Service)"'}),".",(0,H.jsx)("div",{className:"text-slate-500 italic mt-0.5",children:"Do NOT use the one you created manually."})]}),(0,H.jsxs)("li",{children:['Edit it and add this EXACT URI to "Authorized redirect URIs":',(0,H.jsxs)("div",{className:"mt-2 flex items-center gap-2 bg-slate-900 p-2 rounded border border-slate-700",children:[(0,H.jsx)("code",{className:"text-emerald-400 font-mono break-all",children:l}),(0,H.jsx)("button",{onClick:()=>navigator.clipboard.writeText(l),className:"text-slate-500 hover:text-white p-1",children:(0,H.jsx)(af,{className:"w-4 h-4"})})]})]}),(0,H.jsx)("li",{children:"Click Save and try logging in again."})]})]}),k&&(0,H.jsxs)("div",{className:"p-4 bg-slate-950/50 text-left border-t border-red-800/50 space-y-4",children:[(0,H.jsx)("p",{className:"text-sm text-slate-300",children:"Your API Key is being rejected. This usually means one of the following:"}),(0,H.jsxs)("div",{className:"text-xs text-slate-400 space-y-3",children:[(0,H.jsxs)("div",{className:"p-3 bg-blue-900/10 border border-blue-800/30 rounded",children:[(0,H.jsx)("p",{className:"text-blue-300 font-bold mb-1 uppercase tracking-tighter",children:"1. Project Mismatch (Most Common)"}),(0,H.jsxs)("p",{children:["Your ",(0,H.jsx)("code",{children:".env"})," project ID is ",(0,H.jsx)("strong",{children:"ai-voice-agent-c2a2b"}),", but you might be using an API key from a different project (like 'tyjblogs'). Ensure you are viewing the correct project in Google Cloud Console."]})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{className:"text-slate-200 font-semibold",children:"2. Identity Toolkit API is Disabled"}),(0,H.jsxs)("p",{children:["Go to ",(0,H.jsx)("a",{href:"https://console.cloud.google.com/apis/library/identitytoolkit.googleapis.com?project=ai-voice-agent-c2a2b",target:"_blank",className:"text-brand-400 hover:underline",children:"Google Cloud Console"})," and click ",(0,H.jsx)("strong",{children:'"Enable"'})," for the Identity Toolkit API."]})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{className:"text-slate-200 font-semibold",children:"3. Authorized Domains"}),(0,H.jsxs)("p",{children:["Ensure ",(0,H.jsx)("code",{children:"admin-voice-agent-lac.vercel.app"})," is added to ",(0,H.jsx)("strong",{children:"Authorized Domains"})," in your Firebase Console > Authentication > Settings."]})]})]})]}),i&&(0,H.jsxs)("div",{className:"p-4 bg-slate-950/50 text-left border-t border-red-800/50",children:[(0,H.jsx)("p",{className:"text-sm text-slate-300 mb-3",children:"Google Sign-In is currently disabled in your Firebase project settings."}),(0,H.jsxs)("div",{className:"text-xs text-slate-400 space-y-2 mb-4",children:[(0,H.jsxs)("p",{children:["1. Go to ",(0,H.jsxs)("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noreferrer",className:"text-brand-400 hover:underline inline-flex items-center gap-1",children:["Firebase Console ",(0,H.jsx)($,{className:"w-3 h-3"})]})]}),(0,H.jsxs)("p",{children:["2. Select your project: ",(0,H.jsx)("strong",{children:"ai-voice-agent-c2a2b"})]}),(0,H.jsxs)("p",{children:["3. Navigate to ",(0,H.jsx)("strong",{children:"Authentication"})," > ",(0,H.jsx)("strong",{children:"Sign-in method"})]}),(0,H.jsxs)("p",{children:["4. Click ",(0,H.jsx)("strong",{children:"Add new provider"})," (or edit Google if listed)"]}),(0,H.jsxs)("p",{children:["5. Select ",(0,H.jsx)("strong",{children:"Google"}),", toggle ",(0,H.jsx)("strong",{children:"Enable"}),", and click ",(0,H.jsx)("strong",{children:"Save"})]})]})]})]}),(0,H.jsx)("div",{className:"space-y-4 mb-8",children:(0,H.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-slate-700/50 rounded-lg border border-slate-600",children:[(0,H.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg text-blue-400",children:(0,H.jsx)(P,{className:"w-5 h-5"})}),(0,H.jsxs)("div",{children:[(0,H.jsx)("h3",{className:"text-sm font-semibold text-slate-200",children:"Calendar Integration"}),(0,H.jsx)("p",{className:"text-xs text-slate-500",children:"Access to manage bookings"})]})]})}),(0,H.jsxs)("div",{className:"space-y-3",children:[(0,H.jsxs)("button",{onClick:f,disabled:c,className:"w-full bg-white text-slate-900 font-bold py-3 px-4 rounded-xl hover:bg-slate-100 transition-all flex items-center justify-center gap-2 group disabled:opacity-70 disabled:cursor-not-allowed",children:[c?(0,H.jsx)(Z,{className:"w-5 h-5 animate-spin"}):(0,H.jsx)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),(0,H.jsx)("span",{children:c?"Connecting...":"Sign in with Google"}),!c&&(0,H.jsx)(ad,{className:"w-4 h-4 text-slate-400 group-hover:translate-x-1 transition-transform"})]}),b&&(0,H.jsxs)("button",{onClick:b,className:"w-full bg-slate-800 text-slate-400 font-semibold py-3 px-4 rounded-xl hover:bg-slate-700 hover:text-white transition-all flex items-center justify-center gap-2",children:[(0,H.jsx)(ag,{className:"w-4 h-4"}),(0,H.jsx)("span",{children:j?"Skip Login (Demo Mode)":"Continue in Demo Mode"})]})]}),(0,H.jsxs)("p",{className:"text-center text-xs text-slate-500 mt-6",children:[(0,H.jsx)(ac,{className:"w-3 h-3 inline mr-1"}),"Secure Enterprise Access"]})]})]})};(j=v||(v={})).STRING="string",j.NUMBER="number",j.INTEGER="integer",j.BOOLEAN="boolean",j.ARRAY="array",j.OBJECT="object",(k=w||(w={})).LANGUAGE_UNSPECIFIED="language_unspecified",k.PYTHON="python",(l=x||(x={})).OUTCOME_UNSPECIFIED="outcome_unspecified",l.OUTCOME_OK="outcome_ok",l.OUTCOME_FAILED="outcome_failed",l.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded";let aj=["user","model","function","system"];(m=y||(y={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",m.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",m.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",m.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",m.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",m.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",(n=z||(z={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",(o=A||(A={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH",(p=B||(B={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",p.SAFETY="SAFETY",p.OTHER="OTHER",(q=C||(C={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",q.STOP="STOP",q.MAX_TOKENS="MAX_TOKENS",q.SAFETY="SAFETY",q.RECITATION="RECITATION",q.LANGUAGE="LANGUAGE",q.BLOCKLIST="BLOCKLIST",q.PROHIBITED_CONTENT="PROHIBITED_CONTENT",q.SPII="SPII",q.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",q.OTHER="OTHER",(r=D||(D={})).TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",r.RETRIEVAL_QUERY="RETRIEVAL_QUERY",r.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",r.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",r.CLASSIFICATION="CLASSIFICATION",r.CLUSTERING="CLUSTERING",(s=E||(E={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE",(t=F||(F={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC";class ak extends Error{constructor(a){super(`[GoogleGenerativeAI Error]: ${a}`)}}class al extends ak{constructor(a,b){super(a),this.response=b}}class am extends ak{constructor(a,b,c,d){super(a),this.status=b,this.statusText=c,this.errorDetails=d}}class an extends ak{}class ao extends ak{}(u=G||(G={})).GENERATE_CONTENT="generateContent",u.STREAM_GENERATE_CONTENT="streamGenerateContent",u.COUNT_TOKENS="countTokens",u.EMBED_CONTENT="embedContent",u.BATCH_EMBED_CONTENTS="batchEmbedContents";class ap{constructor(a,b,c,d,e){this.model=a,this.task=b,this.apiKey=c,this.stream=d,this.requestOptions=e}toString(){var a,b;let c=(null==(a=this.requestOptions)?void 0:a.apiVersion)||"v1beta",d=(null==(b=this.requestOptions)?void 0:b.baseUrl)||"https://generativelanguage.googleapis.com",e=`${d}/${c}/${this.model}:${this.task}`;return this.stream&&(e+="?alt=sse"),e}}async function aq(a){var b,c;let d,e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",(c=a.requestOptions,d=[],(null==c?void 0:c.apiClient)&&d.push(c.apiClient),d.push("genai-js/0.24.1"),d.join(" "))),e.append("x-goog-api-key",a.apiKey);let f=null==(b=a.requestOptions)?void 0:b.customHeaders;if(f){if(!(f instanceof Headers))try{f=new Headers(f)}catch(a){throw new an(`unable to convert customHeaders value ${JSON.stringify(f)} to Headers: ${a.message}`)}for(let[a,b]of f.entries()){if("x-goog-api-key"===a)throw new an(`Cannot set reserved header name ${a}`);if("x-goog-api-client"===a)throw new an(`Header name ${a} can only be set using the apiClient field`);e.append(a,b)}}return e}async function ar(a,b,c,d,e,f){let g=new ap(a,b,c,d,f);return{url:g.toString(),fetchOptions:Object.assign(Object.assign({},function(a){let b={};if((null==a?void 0:a.signal)!==void 0||(null==a?void 0:a.timeout)>=0){let c=new AbortController;(null==a?void 0:a.timeout)>=0&&setTimeout(()=>c.abort(),a.timeout),(null==a?void 0:a.signal)&&a.signal.addEventListener("abort",()=>{c.abort()}),b.signal=c.signal}return b}(f)),{method:"POST",headers:await aq(g),body:e})}}async function as(a,b,c,d,e,f={},g=fetch){let{url:h,fetchOptions:i}=await ar(a,b,c,d,e,f);return at(h,i,g)}async function at(a,b,c=fetch){let d;try{d=await c(a,b)}catch(c){var e=c,f=a;let b=e;throw"AbortError"===b.name?(b=new ao(`Request aborted when fetching ${f.toString()}: ${e.message}`)).stack=e.stack:e instanceof am||e instanceof an||((b=new ak(`Error fetching from ${f.toString()}: ${e.message}`)).stack=e.stack),b}return d.ok||await au(d,a),d}async function au(a,b){let c,d="";try{let b=await a.json();d=b.error.message,b.error.details&&(d+=` ${JSON.stringify(b.error.details)}`,c=b.error.details)}catch(a){}throw new am(`Error fetching from ${b.toString()}: [${a.status} ${a.statusText}] ${d}`,a.status,a.statusText,c)}function av(a){return a.text=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ay(a.candidates[0]))throw new al(`${az(a)}`,a);return function(a){var b,c,d,e;let f=[];if(null==(c=null==(b=a.candidates)?void 0:b[0].content)?void 0:c.parts)for(let b of null==(e=null==(d=a.candidates)?void 0:d[0].content)?void 0:e.parts)b.text&&f.push(b.text),b.executableCode&&f.push("\n```"+b.executableCode.language+"\n"+b.executableCode.code+"\n```\n"),b.codeExecutionResult&&f.push("\n```\n"+b.codeExecutionResult.output+"\n```\n");return f.length>0?f.join(""):""}(a)}if(a.promptFeedback)throw new al(`Text not available. ${az(a)}`,a);return""},a.functionCall=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ay(a.candidates[0]))throw new al(`${az(a)}`,a);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),aw(a)[0]}if(a.promptFeedback)throw new al(`Function call not available. ${az(a)}`,a)},a.functionCalls=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ay(a.candidates[0]))throw new al(`${az(a)}`,a);return aw(a)}if(a.promptFeedback)throw new al(`Function call not available. ${az(a)}`,a)},a}function aw(a){var b,c,d,e;let f=[];if(null==(c=null==(b=a.candidates)?void 0:b[0].content)?void 0:c.parts)for(let b of null==(e=null==(d=a.candidates)?void 0:d[0].content)?void 0:e.parts)b.functionCall&&f.push(b.functionCall);return f.length>0?f:void 0}let ax=[C.RECITATION,C.SAFETY,C.LANGUAGE];function ay(a){return!!a.finishReason&&ax.includes(a.finishReason)}function az(a){var b,c,d;let e="";if((!a.candidates||0===a.candidates.length)&&a.promptFeedback)e+="Response was blocked",(null==(b=a.promptFeedback)?void 0:b.blockReason)&&(e+=` due to ${a.promptFeedback.blockReason}`),(null==(c=a.promptFeedback)?void 0:c.blockReasonMessage)&&(e+=`: ${a.promptFeedback.blockReasonMessage}`);else if(null==(d=a.candidates)?void 0:d[0]){let b=a.candidates[0];ay(b)&&(e+=`Candidate was blocked due to ${b.finishReason}`,b.finishMessage&&(e+=`: ${b.finishMessage}`))}return e}function aA(a){return this instanceof aA?(this.v=a,this):new aA(a)}"function"==typeof SuppressedError&&SuppressedError;let aB=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function aC(a){let b=[],c=a.getReader();for(;;){let{done:a,value:d}=await c.read();if(a)return av(function(a){let b=a[a.length-1],c={promptFeedback:null==b?void 0:b.promptFeedback};for(let b of a){if(b.candidates){let a=0;for(let d of b.candidates)if(c.candidates||(c.candidates=[]),c.candidates[a]||(c.candidates[a]={index:a}),c.candidates[a].citationMetadata=d.citationMetadata,c.candidates[a].groundingMetadata=d.groundingMetadata,c.candidates[a].finishReason=d.finishReason,c.candidates[a].finishMessage=d.finishMessage,c.candidates[a].safetyRatings=d.safetyRatings,d.content&&d.content.parts){c.candidates[a].content||(c.candidates[a].content={role:d.content.role||"user",parts:[]});let b={};for(let e of d.content.parts)e.text&&(b.text=e.text),e.functionCall&&(b.functionCall=e.functionCall),e.executableCode&&(b.executableCode=e.executableCode),e.codeExecutionResult&&(b.codeExecutionResult=e.codeExecutionResult),0===Object.keys(b).length&&(b.text=""),c.candidates[a].content.parts.push(b)}a++}b.usageMetadata&&(c.usageMetadata=b.usageMetadata)}return c}(b));b.push(d)}}async function aD(a,b,c,d){return function(a){let b,[c,d]=(b=a.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})).getReader(),new ReadableStream({start(a){let c="";return function d(){return b.read().then(({value:b,done:e})=>{let f;if(e)return c.trim()?void a.error(new ak("Failed to parse stream")):void a.close();let g=(c+=b).match(aB);for(;g;){try{f=JSON.parse(g[1])}catch(b){a.error(new ak(`Error parsing JSON response: "${g[1]}"`));return}a.enqueue(f),g=(c=c.substring(g[0].length)).match(aB)}return d()}).catch(a=>{let b=a;throw b.stack=a.stack,b="AbortError"===b.name?new ao("Request aborted when reading from the stream"):new ak("Error reading from the stream")})}()}})).tee();return{stream:function(a){return function(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{var c;(c=e[a](b)).value instanceof aA?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}(this,arguments,function*(){let b=a.getReader();for(;;){let{value:a,done:c}=yield aA(b.read());if(c)break;yield yield aA(av(a))}})}(c),response:aC(d)}}(await as(b,G.STREAM_GENERATE_CONTENT,a,!0,JSON.stringify(c),d))}async function aE(a,b,c,d){let e=await as(b,G.GENERATE_CONTENT,a,!1,JSON.stringify(c),d);return{response:av(await e.json())}}function aF(a){if(null!=a){if("string"==typeof a)return{role:"system",parts:[{text:a}]};if(a.text)return{role:"system",parts:[a]};if(a.parts)if(!a.role)return{role:"system",parts:a.parts};else return a}}function aG(a){let b=[];if("string"==typeof a)b=[{text:a}];else for(let c of a)"string"==typeof c?b.push({text:c}):b.push(c);var c=b;let d={role:"user",parts:[]},e={role:"function",parts:[]},f=!1,g=!1;for(let a of c)"functionResponse"in a?(e.parts.push(a),g=!0):(d.parts.push(a),f=!0);if(f&&g)throw new ak("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!f&&!g)throw new ak("No content is provided for sending chat message.");return f?d:e}function aH(a){let b;return b=a.contents?a:{contents:[aG(a)]},a.systemInstruction&&(b.systemInstruction=aF(a.systemInstruction)),b}let aI=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],aJ={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function aK(a){var b;if(void 0===a.candidates||0===a.candidates.length)return!1;let c=null==(b=a.candidates[0])?void 0:b.content;if(void 0===c||void 0===c.parts||0===c.parts.length)return!1;for(let a of c.parts)if(void 0===a||0===Object.keys(a).length||void 0!==a.text&&""===a.text)return!1;return!0}let aL="SILENT_ERROR";class aM{constructor(a,b,c,d={}){this.model=b,this.params=c,this._requestOptions=d,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=a,(null==c?void 0:c.history)&&(!function(a){let b=!1;for(let c of a){let{role:a,parts:d}=c;if(!b&&"user"!==a)throw new ak(`First content should be with role 'user', got ${a}`);if(!aj.includes(a))throw new ak(`Each item should include role field. Got ${a} but valid roles are: ${JSON.stringify(aj)}`);if(!Array.isArray(d))throw new ak("Content should have 'parts' property with an array of Parts");if(0===d.length)throw new ak("Each Content should have at least one part");let e={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let a of d)for(let b of aI)b in a&&(e[b]+=1);let f=aJ[a];for(let b of aI)if(!f.includes(b)&&e[b]>0)throw new ak(`Content with role '${a}' can't contain '${b}' part`);b=!0}}(c.history),this._history=c.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(a,b={}){var c,d,e,f,g,h;let i;await this._sendPromise;let j=aG(a),k={safetySettings:null==(c=this.params)?void 0:c.safetySettings,generationConfig:null==(d=this.params)?void 0:d.generationConfig,tools:null==(e=this.params)?void 0:e.tools,toolConfig:null==(f=this.params)?void 0:f.toolConfig,systemInstruction:null==(g=this.params)?void 0:g.systemInstruction,cachedContent:null==(h=this.params)?void 0:h.cachedContent,contents:[...this._history,j]},l=Object.assign(Object.assign({},this._requestOptions),b);return this._sendPromise=this._sendPromise.then(()=>aE(this._apiKey,this.model,k,l)).then(a=>{var b;if(aK(a.response)){this._history.push(j);let c=Object.assign({parts:[],role:"model"},null==(b=a.response.candidates)?void 0:b[0].content);this._history.push(c)}else{let b=az(a.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}i=a}).catch(a=>{throw this._sendPromise=Promise.resolve(),a}),await this._sendPromise,i}async sendMessageStream(a,b={}){var c,d,e,f,g,h;await this._sendPromise;let i=aG(a),j={safetySettings:null==(c=this.params)?void 0:c.safetySettings,generationConfig:null==(d=this.params)?void 0:d.generationConfig,tools:null==(e=this.params)?void 0:e.tools,toolConfig:null==(f=this.params)?void 0:f.toolConfig,systemInstruction:null==(g=this.params)?void 0:g.systemInstruction,cachedContent:null==(h=this.params)?void 0:h.cachedContent,contents:[...this._history,i]},k=Object.assign(Object.assign({},this._requestOptions),b),l=aD(this._apiKey,this.model,j,k);return this._sendPromise=this._sendPromise.then(()=>l).catch(a=>{throw Error(aL)}).then(a=>a.response).then(a=>{if(aK(a)){this._history.push(i);let b=Object.assign({},a.candidates[0].content);b.role||(b.role="model"),this._history.push(b)}else{let b=az(a);b&&console.warn(`sendMessageStream() was unsuccessful. ${b}. Inspect response object for details.`)}}).catch(a=>{a.message!==aL&&console.error(a)}),l}}async function aN(a,b,c,d){return(await as(b,G.COUNT_TOKENS,a,!1,JSON.stringify(c),d)).json()}async function aO(a,b,c,d){return(await as(b,G.EMBED_CONTENT,a,!1,JSON.stringify(c),d)).json()}async function aP(a,b,c,d){let e=c.requests.map(a=>Object.assign(Object.assign({},a),{model:b}));return(await as(b,G.BATCH_EMBED_CONTENTS,a,!1,JSON.stringify({requests:e}),d)).json()}class aQ{constructor(a,b,c={}){this.apiKey=a,this._requestOptions=c,b.model.includes("/")?this.model=b.model:this.model=`models/${b.model}`,this.generationConfig=b.generationConfig||{},this.safetySettings=b.safetySettings||[],this.tools=b.tools,this.toolConfig=b.toolConfig,this.systemInstruction=aF(b.systemInstruction),this.cachedContent=b.cachedContent}async generateContent(a,b={}){var c;let d=aH(a),e=Object.assign(Object.assign({},this._requestOptions),b);return aE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(c=this.cachedContent)?void 0:c.name},d),e)}async generateContentStream(a,b={}){var c;let d=aH(a),e=Object.assign(Object.assign({},this._requestOptions),b);return aD(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(c=this.cachedContent)?void 0:c.name},d),e)}startChat(a){var b;return new aM(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(b=this.cachedContent)?void 0:b.name},a),this._requestOptions)}async countTokens(a,b={}){let c=function(a,b){var c;let d={model:null==b?void 0:b.model,generationConfig:null==b?void 0:b.generationConfig,safetySettings:null==b?void 0:b.safetySettings,tools:null==b?void 0:b.tools,toolConfig:null==b?void 0:b.toolConfig,systemInstruction:null==b?void 0:b.systemInstruction,cachedContent:null==(c=null==b?void 0:b.cachedContent)?void 0:c.name,contents:[]},e=null!=a.generateContentRequest;if(a.contents){if(e)throw new an("CountTokensRequest must have one of contents or generateContentRequest, not both.");d.contents=a.contents}else if(e)d=Object.assign(Object.assign({},d),a.generateContentRequest);else{let b=aG(a);d.contents=[b]}return{generateContentRequest:d}}(a,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),d=Object.assign(Object.assign({},this._requestOptions),b);return aN(this.apiKey,this.model,c,d)}async embedContent(a,b={}){let c="string"==typeof a||Array.isArray(a)?{content:aG(a)}:a,d=Object.assign(Object.assign({},this._requestOptions),b);return aO(this.apiKey,this.model,c,d)}async batchEmbedContents(a,b={}){let c=Object.assign(Object.assign({},this._requestOptions),b);return aP(this.apiKey,this.model,a,c)}}class aR{constructor(a){this.apiKey=a}getGenerativeModel(a,b){if(!a.model)throw new ak("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new aQ(this.apiKey,a,b)}getGenerativeModelFromCachedContent(a,b,c){if(!a.name)throw new an("Cached content must contain a `name` field.");if(!a.model)throw new an("Cached content must contain a `model` field.");for(let c of["model","systemInstruction"])if((null==b?void 0:b[c])&&a[c]&&(null==b?void 0:b[c])!==a[c]){if("model"===c&&(b.model.startsWith("models/")?b.model.replace("models/",""):b.model)===(a.model.startsWith("models/")?a.model.replace("models/",""):a.model))continue;throw new an(`Different value for "${c}" specified in modelParams (${b[c]}) and cachedContent (${a[c]})`)}let d=Object.assign(Object.assign({},b),{model:a.model,tools:a.tools,toolConfig:a.toolConfig,systemInstruction:a.systemInstruction,cachedContent:a});return new aQ(this.apiKey,d,c)}}let aS={get url(){return`file://${a.P("src/services/geminiService.ts")}`}};async function aT(a,b,c){var d;let e,f=(((d="VITE_GEMINI_API_KEY",e=(e=("u">typeof process&&process.env&&process.env[d]?process.env[d]:aS.env&&aS.env[d]?aS.env[d]:null)||"")?e.trim():"").startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))&&(e=e.slice(1,-1)),e);if(f?console.log(`[Gemini Service] Initializing with key starting with: ${f.substring(0,4)}... (Length: ${f.length})`):console.warn("[Gemini Service] No API Key found in environment variables."),!f||"undefined"===f||"null"===f)throw Error("System configuration error: API Key is missing or undefined.");let g=new aR(f),h=`
    You are an expert Voice AI Configuration Admin.
    Your job is to generate a structured JSON configuration for a Voice AI agent based on a short business description provided by the user.
    
    If "REAL WORLD RESEARCH DATA" is provided, prioritize that information. If the research data is missing specific fields (like specific staff names or detailed hours), use your knowledge to invent plausible ones that fit the context.
    
    Populate the following sections:
    - Business Metadata
        - Services (Invent plausible services with durations)
    - Locations (Invent a plausible location)
        - Resources (Invent staff or rooms if applicable)
    - Data Fields (Recommend mandatory fields)
    - Conversation Rules (Match the tone to the business type)
        - Safety Boundaries (Relevant to the industry)
        - VAPI Configuration (Crucial: Generate a specialized System Prompt and Knowledge Base)
    
    ${c?`
    INDUSTRY TEMPLATE CONTEXT:
    The user has selected the "${c.name}" industry.
    - Base System Prompt Concept: ${c.systemPrompt}
    - Recommended First Message Style: ${c.firstMessage}
    - Mandatory Fields to include: ${c.mandatoryFields.join(", ")}
    - Suggested Services: ${c.suggestedServices.join(", ")}
    - Tone: ${c.defaultTone}
    
    Please refine and expand upon these template items to fit the specific business description provided.
    `:""}

    FOR VAPI SYSTEM PROMPT:
    Use this EXACT template, replacing {{COMPANY_NAME}} and {{DEPARTMENT_NAME}} with generated values appropriate for the business:
    "AI Assistant is a sophisticated AI training assistant, crafted by experts in user support and AI development at {{COMPANY_NAME}} within the {{DEPARTMENT_NAME}} team. Designed with the persona of a seasoned user support professional, AI Assistant combines deep technical knowledge with a strong sense of emotional intelligence. AI Assistants primary role is to serve as a dynamic training platform for user support agents, simulating a broad range of service scenarios, from basic inquiries to complex problem-solving challenges.
    
    AI Assistants advanced capabilities allow it to replicate diverse user service situations, making it an invaluable tool for training purposes. It guides new agents through simulated interactions, offering real-time feedback and guidance to refine skills in handling user needs with patience, empathy, and professionalism. AI Assistant ensures every trainee learns to listen actively, respond thoughtfully, and uphold the highest standards of user care.
    
    Primary Mode of Interaction
    
    AI Assistant interacts primarily through voice, accurately interpreting spoken queries and responding naturally through audio. This design prepares trainees for real user conversations and live call environments. AI Assistant is engineered to recognize and adapt to emotional cues in speech, allowing trainees to practice managing emotional nuances with confidence and care.
    
    Training Guidance
    
    AI Assistant encourages trainees to practice active listening by acknowledging user queries with clear confirmation of engagement, such as expressing presence and readiness to help.
    
    AI Assistant emphasizes clear and empathetic communication, always tailored to the specific context of each interaction.
    
    AI Assistant demonstrates how to handle unclear or complex user concerns by asking thoughtful, open-ended clarifying questions in a natural and human manner.
    
    AI Assistant teaches trainees to express empathy and understanding, particularly when users are frustrated or dissatisfied, ensuring concerns are addressed with care and a strong focus on resolution.
    
    AI Assistant prepares agents to transition interactions smoothly to human colleagues when appropriate, reinforcing the importance of human connection in sensitive or complex situations.
    
    AI Assistants overarching mission is to strengthen the human side of user support through immersive, scenario-based training. It is not merely an answer engine, but a refined training platform designed to develop knowledgeable, empathetic, and adaptable user support professionals.
    
    Additional Instruction
    
    AI Assistant must not use numeric characters in any response."
    
    FOR VAPI KNOWLEDGE BASE:
    Generate 10 FAQs specific to this business in Markdown format.
    
    FOR VAPI VOICE SETTINGS:
    Always use "vapi" for voiceProvider and "Mia" for voiceId.
    
    FOR VAPI MODEL SETTINGS:
    Use "openai" for provider and "gpt-4o-mini" for model by default, but you can also use these providers if appropriate: "groq", "deepseek", "google", "anthropic", "mistral", "perplexity-ai", "xai".
    Set temperature to 0.3.
    
    FOR VAPI TRANSCRIBER SETTINGS:
    Always use "deepgram" for provider and "nova-2" for model by default for high accuracy. Set language to "en".

    FOR VAPI MESSAGE SETTINGS:
    Generate a "firstMessage" that is personalized to the business and the user (e.g., "Hello {{USER_NAME}}, thanks for calling GreenThumb Atlanta, how can I help you today?"). Use the {{USER_NAME}} placeholder to indicate where the user's name should be inserted. Ensure NO placeholders like {{COMPANY_NAME}} remain in the firstMessage, BUT DO keep {{USER_NAME}}.

    Ensure strict adherence to the schema provided.
  `,i={type:v.OBJECT,properties:{metadata:{type:v.OBJECT,properties:{businessName:{type:v.STRING},industry:{type:v.STRING},primaryUseCase:{type:v.STRING},targetUsers:{type:v.STRING},description:{type:v.STRING}},required:["businessName","industry","primaryUseCase","description"]},services:{type:v.ARRAY,items:{type:v.OBJECT,properties:{id:{type:v.STRING},name:{type:v.STRING},description:{type:v.STRING},durationMinutes:{type:v.INTEGER},bookingRules:{type:v.STRING}},required:["name","durationMinutes"]}},locations:{type:v.ARRAY,items:{type:v.OBJECT,properties:{id:{type:v.STRING},name:{type:v.STRING},mode:{type:v.STRING,enum:["Physical","Virtual","Hybrid"]},operatingDays:{type:v.ARRAY,items:{type:v.STRING}},operatingHours:{type:v.STRING},timeZone:{type:v.STRING}}}},resources:{type:v.ARRAY,items:{type:v.OBJECT,properties:{id:{type:v.STRING},name:{type:v.STRING},role:{type:v.STRING},availabilityRules:{type:v.STRING},selectionRequired:{type:v.BOOLEAN}}}},conversation:{type:v.OBJECT,properties:{tone:{type:v.STRING},formality:{type:v.STRING,enum:["Casual","Professional","Formal"]},speakingStyle:{type:v.STRING},speechPace:{type:v.STRING,enum:["Slow","Normal","Fast"]},smallTalkAllowed:{type:v.BOOLEAN},identityDisclosure:{type:v.STRING,enum:["Always","On Demand","Never"]}}},safety:{type:v.OBJECT,properties:{allowedTopics:{type:v.STRING},disallowedTopics:{type:v.STRING},complianceConstraints:{type:v.STRING}}},integrations:{type:v.OBJECT,properties:{firebase:{type:v.BOOLEAN},googleCalendar:{type:v.BOOLEAN}}},vapi:{type:v.OBJECT,properties:{systemPrompt:{type:v.STRING},provider:{type:v.STRING},model:{type:v.STRING},firstMessage:{type:v.STRING},temperature:{type:v.NUMBER},voiceProvider:{type:v.STRING},voiceId:{type:v.STRING},transcriber:{type:v.OBJECT,properties:{provider:{type:v.STRING},language:{type:v.STRING},model:{type:v.STRING}}},knowledgeBase:{type:v.STRING}},required:["systemPrompt","knowledgeBase","firstMessage"]}}},j=b?`Business Description: ${a}

REAL WORLD RESEARCH DATA (Priority):
${JSON.stringify(b,null,2)}

Please use the research data above to populate the JSON.`:`Business Description: ${a}`,k=null;for(let a of["gemini-2.0-flash","gemini-flash-latest","gemini-1.5-flash-8b","gemini-pro-latest"])try{console.log(`[Gemini Service] Trying model: ${a}`);let b=g.getGenerativeModel({model:a,systemInstruction:{role:"system",parts:[{text:h}]}}),c=await b.generateContent({contents:[{role:"user",parts:[{text:j}]}],generationConfig:{responseMimeType:"application/json",responseSchema:i}});return function(a){let b=JSON.parse(a.response.text());return{...b,metadata:{...b.metadata||{},createdAt:new Date().toISOString()},services:b.services?.map(a=>({...a,id:a.id||Math.random().toString(36).substring(2,9)}))||[],locations:b.locations?.map(a=>({...a,id:a.id||Math.random().toString(36).substring(2,9)}))||[],resources:b.resources?.map(a=>({...a,id:a.id||Math.random().toString(36).substring(2,9)}))||[],integrations:{firebase:!0,googleCalendar:!0,...b.integrations||{}},vapi:{provider:"OpenAI",model:"gpt-4o-mini",temperature:.3,voiceProvider:"vapi",voiceId:"Mia",transcriber:{provider:"deepgram",language:"en",model:"nova-2"},...b.vapi||{}}}}(c)}catch(c){k=c;let b=c.status||(c.message?.match(/\[(\d+)\]/)||[])[1];if("404"===b){console.warn(`[Gemini Service] Model ${a} not found (404).`);continue}if("429"===b){console.warn(`[Gemini Service] Quota exceeded for ${a}.`);continue}console.error(`[Gemini Service] Unexpected error with ${a}:`,c.message);continue}throw k||Error("All Gemini models failed.")}var aU=a.i(16397);function aV(a,b){return function(){return a.apply(b,arguments)}}let{toString:aW}=Object.prototype,{getPrototypeOf:aX}=Object,{iterator:aY,toStringTag:aZ}=Symbol,a$=(b=Object.create(null),a=>{let c=aW.call(a);return b[c]||(b[c]=c.slice(8,-1).toLowerCase())}),a_=a=>(a=a.toLowerCase(),b=>a$(b)===a),a0=a=>b=>typeof b===a,{isArray:a1}=Array,a2=a0("undefined");function a3(a){return null!==a&&!a2(a)&&null!==a.constructor&&!a2(a.constructor)&&a6(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}let a4=a_("ArrayBuffer"),a5=a0("string"),a6=a0("function"),a7=a0("number"),a8=a=>null!==a&&"object"==typeof a,a9=a=>{if("object"!==a$(a))return!1;let b=aX(a);return(null===b||b===Object.prototype||null===Object.getPrototypeOf(b))&&!(aZ in a)&&!(aY in a)},ba=a_("Date"),bb=a_("File"),bc=a_("Blob"),bd=a_("FileList"),be=a_("URLSearchParams"),[bf,bg,bh,bi]=["ReadableStream","Request","Response","Headers"].map(a_);function bj(a,b,{allOwnKeys:c=!1}={}){let d,e;if(null!=a)if("object"!=typeof a&&(a=[a]),a1(a))for(d=0,e=a.length;d<e;d++)b.call(null,a[d],d,a);else{let e;if(a3(a))return;let f=c?Object.getOwnPropertyNames(a):Object.keys(a),g=f.length;for(d=0;d<g;d++)e=f[d],b.call(null,a[e],e,a)}}function bk(a,b){let c;if(a3(a))return null;b=b.toLowerCase();let d=Object.keys(a),e=d.length;for(;e-- >0;)if(b===(c=d[e]).toLowerCase())return c;return null}let bl="u">typeof globalThis?globalThis:"u">typeof self?self:a.g,bm=a=>!a2(a)&&a!==bl,bn=(c="u">typeof Uint8Array&&aX(Uint8Array),a=>c&&a instanceof c),bo=a_("HTMLFormElement"),bp=(({hasOwnProperty:a})=>(b,c)=>a.call(b,c))(Object.prototype),bq=a_("RegExp"),br=(a,b)=>{let c=Object.getOwnPropertyDescriptors(a),d={};bj(c,(c,e)=>{let f;!1!==(f=b(c,e,a))&&(d[e]=f||c)}),Object.defineProperties(a,d)},bs=a_("AsyncFunction"),bt=(f="function"==typeof setImmediate,g=a6(bl.postMessage),f?setImmediate:g?(h=`axios@${Math.random()}`,i=[],bl.addEventListener("message",({source:a,data:b})=>{a===bl&&b===h&&i.length&&i.shift()()},!1),a=>{i.push(a),bl.postMessage(h,"*")}):a=>setTimeout(a)),bu="u">typeof queueMicrotask?queueMicrotask.bind(bl):"u">typeof process&&process.nextTick||bt,bv={isArray:a1,isArrayBuffer:a4,isBuffer:a3,isFormData:a=>{let b;return a&&("function"==typeof FormData&&a instanceof FormData||a6(a.append)&&("formdata"===(b=a$(a))||"object"===b&&a6(a.toString)&&"[object FormData]"===a.toString()))},isArrayBufferView:function(a){return"u">typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(a):a&&a.buffer&&a4(a.buffer)},isString:a5,isNumber:a7,isBoolean:a=>!0===a||!1===a,isObject:a8,isPlainObject:a9,isEmptyObject:a=>{if(!a8(a)||a3(a))return!1;try{return 0===Object.keys(a).length&&Object.getPrototypeOf(a)===Object.prototype}catch(a){return!1}},isReadableStream:bf,isRequest:bg,isResponse:bh,isHeaders:bi,isUndefined:a2,isDate:ba,isFile:bb,isBlob:bc,isRegExp:bq,isFunction:a6,isStream:a=>a8(a)&&a6(a.pipe),isURLSearchParams:be,isTypedArray:bn,isFileList:bd,forEach:bj,merge:function a(){let{caseless:b,skipUndefined:c}=bm(this)&&this||{},d={},e=(e,f)=>{let g=b&&bk(d,f)||f;a9(d[g])&&a9(e)?d[g]=a(d[g],e):a9(e)?d[g]=a({},e):a1(e)?d[g]=e.slice():c&&a2(e)||(d[g]=e)};for(let a=0,b=arguments.length;a<b;a++)arguments[a]&&bj(arguments[a],e);return d},extend:(a,b,c,{allOwnKeys:d}={})=>(bj(b,(b,d)=>{c&&a6(b)?Object.defineProperty(a,d,{value:aV(b,c),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(a,d,{value:b,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:d}),a),trim:a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:a=>(65279===a.charCodeAt(0)&&(a=a.slice(1)),a),inherits:(a,b,c,d)=>{a.prototype=Object.create(b.prototype,d),Object.defineProperty(a.prototype,"constructor",{value:a,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(a,"super",{value:b.prototype}),c&&Object.assign(a.prototype,c)},toFlatObject:(a,b,c,d)=>{let e,f,g,h={};if(b=b||{},null==a)return b;do{for(f=(e=Object.getOwnPropertyNames(a)).length;f-- >0;)g=e[f],(!d||d(g,a,b))&&!h[g]&&(b[g]=a[g],h[g]=!0);a=!1!==c&&aX(a)}while(a&&(!c||c(a,b))&&a!==Object.prototype)return b},kindOf:a$,kindOfTest:a_,endsWith:(a,b,c)=>{a=String(a),(void 0===c||c>a.length)&&(c=a.length),c-=b.length;let d=a.indexOf(b,c);return -1!==d&&d===c},toArray:a=>{if(!a)return null;if(a1(a))return a;let b=a.length;if(!a7(b))return null;let c=Array(b);for(;b-- >0;)c[b]=a[b];return c},forEachEntry:(a,b)=>{let c,d=(a&&a[aY]).call(a);for(;(c=d.next())&&!c.done;){let d=c.value;b.call(a,d[0],d[1])}},matchAll:(a,b)=>{let c,d=[];for(;null!==(c=a.exec(b));)d.push(c);return d},isHTMLForm:bo,hasOwnProperty:bp,hasOwnProp:bp,reduceDescriptors:br,freezeMethods:a=>{br(a,(b,c)=>{if(a6(a)&&-1!==["arguments","caller","callee"].indexOf(c))return!1;if(a6(a[c])){if(b.enumerable=!1,"writable"in b){b.writable=!1;return}b.set||(b.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},toObjectSet:(a,b)=>{let c={};return(a1(a)?a:String(a).split(b)).forEach(a=>{c[a]=!0}),c},toCamelCase:a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,b,c){return b.toUpperCase()+c}),noop:()=>{},toFiniteNumber:(a,b)=>null!=a&&Number.isFinite(a*=1)?a:b,findKey:bk,global:bl,isContextDefined:bm,isSpecCompliantForm:function(a){return!!(a&&a6(a.append)&&"FormData"===a[aZ]&&a[aY])},toJSONObject:a=>{let b=Array(10),c=(a,d)=>{if(a8(a)){if(b.indexOf(a)>=0)return;if(a3(a))return a;if(!("toJSON"in a)){b[d]=a;let e=a1(a)?[]:{};return bj(a,(a,b)=>{let f=c(a,d+1);a2(f)||(e[b]=f)}),b[d]=void 0,e}}return a};return c(a,0)},isAsyncFn:bs,isThenable:a=>a&&(a8(a)||a6(a))&&a6(a.then)&&a6(a.catch),setImmediate:bt,asap:bu,isIterable:a=>null!=a&&a6(a[aY])};class bw extends Error{static from(a,b,c,d,e,f){let g=new bw(a.message,b||a.code,c,d,e);return g.cause=a,g.name=a.name,f&&Object.assign(g,f),g}constructor(a,b,c,d,e){super(a),this.name="AxiosError",this.isAxiosError=!0,b&&(this.code=b),c&&(this.config=c),d&&(this.request=d),e&&(this.response=e,this.status=e.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:bv.toJSONObject(this.config),code:this.code,status:this.status}}}bw.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",bw.ERR_BAD_OPTION="ERR_BAD_OPTION",bw.ECONNABORTED="ECONNABORTED",bw.ETIMEDOUT="ETIMEDOUT",bw.ERR_NETWORK="ERR_NETWORK",bw.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",bw.ERR_DEPRECATED="ERR_DEPRECATED",bw.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",bw.ERR_BAD_REQUEST="ERR_BAD_REQUEST",bw.ERR_CANCELED="ERR_CANCELED",bw.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",bw.ERR_INVALID_URL="ERR_INVALID_URL";let bx=bw,by=a.i(81275).default;function bz(a){return bv.isPlainObject(a)||bv.isArray(a)}function bA(a){return bv.endsWith(a,"[]")?a.slice(0,-2):a}function bB(a,b,c){return a?a.concat(b).map(function(a,b){return a=bA(a),!c&&b?"["+a+"]":a}).join(c?".":""):b}let bC=bv.toFlatObject(bv,{},null,function(a){return/^is[A-Z]/.test(a)}),bD=function(a,b,c){if(!bv.isObject(a))throw TypeError("target must be an object");b=b||new(by||FormData);let d=(c=bv.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(a,b){return!bv.isUndefined(b[a])})).metaTokens,e=c.visitor||j,f=c.dots,g=c.indexes,h=(c.Blob||"u">typeof Blob&&Blob)&&bv.isSpecCompliantForm(b);if(!bv.isFunction(e))throw TypeError("visitor must be a function");function i(a){if(null===a)return"";if(bv.isDate(a))return a.toISOString();if(bv.isBoolean(a))return a.toString();if(!h&&bv.isBlob(a))throw new bx("Blob is not supported. Use a Buffer instead.");return bv.isArrayBuffer(a)||bv.isTypedArray(a)?h&&"function"==typeof Blob?new Blob([a]):Buffer.from(a):a}function j(a,c,e){let h=a;if(a&&!e&&"object"==typeof a)if(bv.endsWith(c,"{}"))c=d?c:c.slice(0,-2),a=JSON.stringify(a);else{var j;if(bv.isArray(a)&&(j=a,bv.isArray(j)&&!j.some(bz))||(bv.isFileList(a)||bv.endsWith(c,"[]"))&&(h=bv.toArray(a)))return c=bA(c),h.forEach(function(a,d){bv.isUndefined(a)||null===a||b.append(!0===g?bB([c],d,f):null===g?c:c+"[]",i(a))}),!1}return!!bz(a)||(b.append(bB(e,c,f),i(a)),!1)}let k=[],l=Object.assign(bC,{defaultVisitor:j,convertValue:i,isVisitable:bz});if(!bv.isObject(a))throw TypeError("data must be an object");return!function a(c,d){if(!bv.isUndefined(c)){if(-1!==k.indexOf(c))throw Error("Circular reference detected in "+d.join("."));k.push(c),bv.forEach(c,function(c,f){!0===(!(bv.isUndefined(c)||null===c)&&e.call(b,c,bv.isString(f)?f.trim():f,d,l))&&a(c,d?d.concat(f):[f])}),k.pop()}}(a),b};function bE(a){let b={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(a){return b[a]})}function bF(a,b){this._pairs=[],a&&bD(a,this,b)}let bG=bF.prototype;function bH(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bI(a,b,c){let d;if(!b)return a;let e=c&&c.encode||bH,f=bv.isFunction(c)?{serialize:c}:c,g=f&&f.serialize;if(d=g?g(b,f):bv.isURLSearchParams(b)?b.toString():new bF(b,f).toString(e)){let b=a.indexOf("#");-1!==b&&(a=a.slice(0,b)),a+=(-1===a.indexOf("?")?"?":"&")+d}return a}bG.append=function(a,b){this._pairs.push([a,b])},bG.toString=function(a){let b=a?function(b){return a.call(this,b,bE)}:bE;return this._pairs.map(function(a){return b(a[0])+"="+b(a[1])},"").join("&")};let bJ=class{constructor(){this.handlers=[]}use(a,b,c){return this.handlers.push({fulfilled:a,rejected:b,synchronous:!!c&&c.synchronous,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){bv.forEach(this.handlers,function(b){null!==b&&a(b)})}},bK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var bL=a.i(54799);let bM=a.i(92509).default.URLSearchParams,bN="abcdefghijklmnopqrstuvwxyz",bO="0123456789",bP={DIGIT:bO,ALPHA:bN,ALPHA_DIGIT:bN+bN.toUpperCase()+bO},bQ={isNode:!0,classes:{URLSearchParams:bM,FormData:by,Blob:"u">typeof Blob&&Blob||null},ALPHABET:bP,generateString:(a=16,b=bP.ALPHA_DIGIT)=>{let c="",{length:d}=b,e=new Uint32Array(a);bL.default.randomFillSync(e);for(let f=0;f<a;f++)c+=b[e[f]%d];return c},protocols:["http","https","file","data"]},bR="object"==typeof navigator&&navigator||void 0,bS="u">typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;a.s(["hasBrowserEnv",()=>!1,"hasStandardBrowserEnv",()=>!1,"hasStandardBrowserWebWorkerEnv",()=>bS,"navigator",()=>bR,"origin",()=>"http://localhost"],7683);let bT={...a.i(7683),...bQ},bU=function(a){if(bv.isFormData(a)&&bv.isFunction(a.entries)){let b={};return bv.forEachEntry(a,(a,c)=>{!function a(b,c,d,e){let f=b[e++];if("__proto__"===f)return!0;let g=Number.isFinite(+f),h=e>=b.length;return(f=!f&&bv.isArray(d)?d.length:f,h)?bv.hasOwnProp(d,f)?d[f]=[d[f],c]:d[f]=c:(d[f]&&bv.isObject(d[f])||(d[f]=[]),a(b,c,d[f],e)&&bv.isArray(d[f])&&(d[f]=function(a){let b,c,d={},e=Object.keys(a),f=e.length;for(b=0;b<f;b++)d[c=e[b]]=a[c];return d}(d[f]))),!g}(bv.matchAll(/\w+|\[(\w*)]/g,a).map(a=>"[]"===a[0]?"":a[1]||a[0]),c,b,0)}),b}return null},bV={transitional:bK,adapter:["xhr","http","fetch"],transformRequest:[function(a,b){let c,d=b.getContentType()||"",e=d.indexOf("application/json")>-1,f=bv.isObject(a);if(f&&bv.isHTMLForm(a)&&(a=new FormData(a)),bv.isFormData(a))return e?JSON.stringify(bU(a)):a;if(bv.isArrayBuffer(a)||bv.isBuffer(a)||bv.isStream(a)||bv.isFile(a)||bv.isBlob(a)||bv.isReadableStream(a))return a;if(bv.isArrayBufferView(a))return a.buffer;if(bv.isURLSearchParams(a))return b.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();if(f){if(d.indexOf("application/x-www-form-urlencoded")>-1){var g,h;return(g=a,h=this.formSerializer,bD(g,new bT.classes.URLSearchParams,{visitor:function(a,b,c,d){return bT.isNode&&bv.isBuffer(a)?(this.append(b,a.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...h})).toString()}if((c=bv.isFileList(a))||d.indexOf("multipart/form-data")>-1){let b=this.env&&this.env.FormData;return bD(c?{"files[]":a}:a,b&&new b,this.formSerializer)}}if(f||e){b.setContentType("application/json",!1);var i=a;if(bv.isString(i))try{return(0,JSON.parse)(i),bv.trim(i)}catch(a){if("SyntaxError"!==a.name)throw a}return(0,JSON.stringify)(i)}return a}],transformResponse:[function(a){let b=this.transitional||bV.transitional,c=b&&b.forcedJSONParsing,d="json"===this.responseType;if(bv.isResponse(a)||bv.isReadableStream(a))return a;if(a&&bv.isString(a)&&(c&&!this.responseType||d)){let c=b&&b.silentJSONParsing;try{return JSON.parse(a,this.parseReviver)}catch(a){if(!c&&d){if("SyntaxError"===a.name)throw bx.from(a,bx.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bT.classes.FormData,Blob:bT.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};bv.forEach(["delete","get","head","post","put","patch"],a=>{bV.headers[a]={}});let bW=bv.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bX=Symbol("internals");function bY(a){return a&&String(a).trim().toLowerCase()}function bZ(a){return!1===a||null==a?a:bv.isArray(a)?a.map(bZ):String(a)}function b$(a,b,c,d,e){if(bv.isFunction(d))return d.call(this,b,c);if(e&&(b=c),bv.isString(b)){if(bv.isString(d))return -1!==b.indexOf(d);if(bv.isRegExp(d))return d.test(b)}}class b_{constructor(a){a&&this.set(a)}set(a,b,c){let d=this;function e(a,b,c){let e=bY(b);if(!e)throw Error("header name must be a non-empty string");let f=bv.findKey(d,e);f&&void 0!==d[f]&&!0!==c&&(void 0!==c||!1===d[f])||(d[f||b]=bZ(a))}let f=(a,b)=>bv.forEach(a,(a,c)=>e(a,c,b));if(bv.isPlainObject(a)||a instanceof this.constructor)f(a,b);else{let d;if(bv.isString(a)&&(a=a.trim())&&(d=a,!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(d.trim()))){var g;let c,d,e,h;f((h={},(g=a)&&g.split("\n").forEach(function(a){e=a.indexOf(":"),c=a.substring(0,e).trim().toLowerCase(),d=a.substring(e+1).trim(),!c||h[c]&&bW[c]||("set-cookie"===c?h[c]?h[c].push(d):h[c]=[d]:h[c]=h[c]?h[c]+", "+d:d)}),h),b)}else if(bv.isObject(a)&&bv.isIterable(a)){let c={},d,e;for(let b of a){if(!bv.isArray(b))throw TypeError("Object iterator must return a key-value pair");c[e=b[0]]=(d=c[e])?bv.isArray(d)?[...d,b[1]]:[d,b[1]]:b[1]}f(c,b)}else null!=a&&e(b,a,c)}return this}get(a,b){if(a=bY(a)){let c=bv.findKey(this,a);if(c){let a=this[c];if(!b)return a;if(!0===b){let b,c=Object.create(null),d=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;b=d.exec(a);)c[b[1]]=b[2];return c}if(bv.isFunction(b))return b.call(this,a,c);if(bv.isRegExp(b))return b.exec(a);throw TypeError("parser must be boolean|regexp|function")}}}has(a,b){if(a=bY(a)){let c=bv.findKey(this,a);return!!(c&&void 0!==this[c]&&(!b||b$(this,this[c],c,b)))}return!1}delete(a,b){let c=this,d=!1;function e(a){if(a=bY(a)){let e=bv.findKey(c,a);e&&(!b||b$(c,c[e],e,b))&&(delete c[e],d=!0)}}return bv.isArray(a)?a.forEach(e):e(a),d}clear(a){let b=Object.keys(this),c=b.length,d=!1;for(;c--;){let e=b[c];(!a||b$(this,this[e],e,a,!0))&&(delete this[e],d=!0)}return d}normalize(a){let b=this,c={};return bv.forEach(this,(d,e)=>{let f=bv.findKey(c,e);if(f){b[f]=bZ(d),delete b[e];return}let g=a?e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,b,c)=>b.toUpperCase()+c):String(e).trim();g!==e&&delete b[e],b[g]=bZ(d),c[g]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){let b=Object.create(null);return bv.forEach(this,(c,d)=>{null!=c&&!1!==c&&(b[d]=a&&bv.isArray(c)?c.join(", "):c)}),b}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,b])=>a+": "+b).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...b){let c=new this(a);return b.forEach(a=>c.set(a)),c}static accessor(a){let b=(this[bX]=this[bX]={accessors:{}}).accessors,c=this.prototype;function d(a){let d=bY(a);if(!b[d]){let e;e=bv.toCamelCase(" "+a),["get","set","has"].forEach(b=>{Object.defineProperty(c,b+e,{value:function(c,d,e){return this[b].call(this,a,c,d,e)},configurable:!0})}),b[d]=!0}}return bv.isArray(a)?a.forEach(d):d(a),this}}function b0(a,b){let c=this||bV,d=b||c,e=b_.from(d.headers),f=d.data;return bv.forEach(a,function(a){f=a.call(c,f,e.normalize(),b?b.status:void 0)}),e.normalize(),f}function b1(a){return!!(a&&a.__CANCEL__)}b_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),bv.reduceDescriptors(b_.prototype,({value:a},b)=>{let c=b[0].toUpperCase()+b.slice(1);return{get:()=>a,set(a){this[c]=a}}}),bv.freezeMethods(b_);let b2=class extends bx{constructor(a,b,c){super(null==a?"canceled":a,bx.ERR_CANCELED,b,c),this.name="CanceledError",this.__CANCEL__=!0}};function b3(a,b,c){let d=c.config.validateStatus;!c.status||!d||d(c.status)?a(c):b(new bx("Request failed with status code "+c.status,[bx.ERR_BAD_REQUEST,bx.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function b4(a,b,c){let d=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(b);return a&&(d||!1==c)?b?a.replace(/\/?\/$/,"")+"/"+b.replace(/^\/+/,""):a:b}var b5=a.i(94435),b6=a.i(21517),b7=a.i(24836),b8=a.i(25328),b9=a.i(24361),ca=a.i(84803),cb=a.i(6461);let cc="1.13.4";function cd(a){let b=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return b&&b[1]||""}let ce=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;var cf=a.i(88947),cg=cf;let ch=Symbol("internals");class ci extends cg.default.Transform{constructor(a){super({readableHighWaterMark:(a=bv.toFlatObject(a,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(a,b)=>!bv.isUndefined(b[a]))).chunkSize});const b=this[ch]={timeWindow:a.timeWindow,chunkSize:a.chunkSize,maxRate:a.maxRate,minChunkSize:a.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",a=>{"progress"!==a||b.isCaptured||(b.isCaptured=!0)})}_read(a){let b=this[ch];return b.onReadCallback&&b.onReadCallback(),super._read(a)}_transform(a,b,c){let d=this[ch],e=d.maxRate,f=this.readableHighWaterMark,g=d.timeWindow,h=e/(1e3/g),i=!1!==d.minChunkSize?Math.max(d.minChunkSize,.01*h):0,j=(a,b)=>{let c=Buffer.byteLength(a);d.bytesSeen+=c,d.bytes+=c,d.isCaptured&&this.emit("progress",d.bytesSeen),this.push(a)?process.nextTick(b):d.onReadCallback=()=>{d.onReadCallback=null,process.nextTick(b)}},k=(a,b)=>{let c,k=Buffer.byteLength(a),l=null,m=f,n=0;if(e){let a=Date.now();(!d.ts||(n=a-d.ts)>=g)&&(d.ts=a,c=h-d.bytes,d.bytes=c<0?-c:0,n=0),c=h-d.bytes}if(e){if(c<=0)return setTimeout(()=>{b(null,a)},g-n);c<m&&(m=c)}m&&k>m&&k-m>i&&(l=a.subarray(m),a=a.subarray(0,m)),j(a,l?()=>{process.nextTick(b,null,l)}:b)};k(a,function a(b,d){if(b)return c(b);d?k(d,a):c(null)})}}var cj=a.i(27699);let{asyncIterator:ck}=Symbol,cl=async function*(a){a.stream?yield*a.stream():a.arrayBuffer?yield await a.arrayBuffer():a[ck]?yield*a[ck]():yield a},cm=bT.ALPHABET.ALPHA_DIGIT+"-_",cn="function"==typeof TextEncoder?new TextEncoder:new b9.default.TextEncoder,co=cn.encode("\r\n");class cp{constructor(a,b){const{escapeName:c}=this.constructor,d=bv.isString(b);let e=`Content-Disposition: form-data; name="${c(a)}"${!d&&b.name?`; filename="${c(b.name)}"`:""}\r
`;d?b=cn.encode(String(b).replace(/\r?\n|\r\n?/g,"\r\n")):e+=`Content-Type: ${b.type||"application/octet-stream"}\r
`,this.headers=cn.encode(e+"\r\n"),this.contentLength=d?b.byteLength:b.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=a,this.value=b}async *encode(){yield this.headers;let{value:a}=this;bv.isTypedArray(a)?yield a:yield*cl(a),yield co}static escapeName(a){return String(a).replace(/[\r\n"]/g,a=>({"\r":"%0D","\n":"%0A",'"':"%22"})[a])}}var cq=cf;class cr extends cq.default.Transform{__transform(a,b,c){this.push(a),c()}_transform(a,b,c){if(0!==a.length&&(this._transform=this.__transform,120!==a[0])){let a=Buffer.alloc(2);a[0]=120,a[1]=156,this.push(a,b)}this.__transform(a,b,c)}}let cs=function(a,b){let c,d=Array(a=a||10),e=Array(a),f=0,g=0;return b=void 0!==b?b:1e3,function(h){let i=Date.now(),j=e[g];c||(c=i),d[f]=h,e[f]=i;let k=g,l=0;for(;k!==f;)l+=d[k++],k%=a;if((f=(f+1)%a)===g&&(g=(g+1)%a),i-c<b)return;let m=j&&i-j;return m?Math.round(1e3*l/m):void 0}},ct=function(a,b){let c,d,e=0,f=1e3/b,g=(b,f=Date.now())=>{e=f,c=null,d&&(clearTimeout(d),d=null),a(...b)};return[(...a)=>{let b=Date.now(),h=b-e;h>=f?g(a,b):(c=a,d||(d=setTimeout(()=>{d=null,g(c)},f-h)))},()=>c&&g(c)]},cu=(a,b,c=3)=>{let d=0,e=cs(50,250);return ct(c=>{let f=c.loaded,g=c.lengthComputable?c.total:void 0,h=f-d,i=e(h);d=f,a({loaded:f,total:g,progress:g?f/g:void 0,bytes:h,rate:i||void 0,estimated:i&&g&&f<=g?(g-f)/i:void 0,event:c,lengthComputable:null!=g,[b?"download":"upload"]:!0})},c)},cv=(a,b)=>{let c=null!=a;return[d=>b[0]({lengthComputable:c,total:a,loaded:d}),b[1]]},cw=a=>(...b)=>bv.asap(()=>a(...b)),cx={flush:cb.default.constants.Z_SYNC_FLUSH,finishFlush:cb.default.constants.Z_SYNC_FLUSH},cy={flush:cb.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:cb.default.constants.BROTLI_OPERATION_FLUSH},cz=bv.isFunction(cb.default.createBrotliDecompress),{http:cA,https:cB}=ca.default,cC=/https:?/,cD=bT.protocols.map(a=>a+":"),cE=(a,[b,c])=>(a.on("end",c).on("error",c),b),cF=new class{constructor(){this.sessions=Object.create(null)}getSession(a,b){let c;b=Object.assign({sessionTimeout:1e3},b);let d=this.sessions[a];if(d){let a=d.length;for(let c=0;c<a;c++){let[a,e]=d[c];if(!a.destroyed&&!a.closed&&b9.default.isDeepStrictEqual(e,b))return a}}let e=b8.default.connect(a,b),f=()=>{if(c)return;c=!0;let b=d,f=b.length,g=f;for(;g--;)if(b[g][0]===e)return void(1===f?delete this.sessions[a]:b.splice(g,1))},g=e.request,{sessionTimeout:h}=b;if(null!=h){let a,b=0;e.request=function(){let c=g.apply(this,arguments);return b++,a&&(clearTimeout(a),a=null),c.once("close",()=>{--b||(a=setTimeout(()=>{a=null,f()},h))}),c}}e.once("close",f);let i=[e,b];return d?d.push(i):d=this.sessions[a]=[i],e}};function cG(a,b){a.beforeRedirects.proxy&&a.beforeRedirects.proxy(a),a.beforeRedirects.config&&a.beforeRedirects.config(a,b)}let cH="u">typeof process&&"process"===bv.kindOf(process),cI=(a,b)=>(({address:a,family:b})=>{if(!bv.isString(a))throw TypeError("address must be a string");return{address:a,family:b||(0>a.indexOf(".")?6:4)}})(bv.isObject(a)?a:{address:a,family:b}),cJ={request(a,b){let c=a.protocol+"//"+a.hostname+":"+(a.port||("https:"===a.protocol?443:80)),{http2Options:d,headers:e}=a,f=cF.getSession(c,d),{HTTP2_HEADER_SCHEME:g,HTTP2_HEADER_METHOD:h,HTTP2_HEADER_PATH:i,HTTP2_HEADER_STATUS:j}=b8.default.constants,k={[g]:a.protocol.replace(":",""),[h]:a.method,[i]:a.path};bv.forEach(e,(a,b)=>{":"!==b.charAt(0)&&(k[b]=a)});let l=f.request(k);return l.once("response",a=>{let c=(a=Object.assign({},a))[j];delete a[j],l.headers=a,l.statusCode=+c,b(l)}),l}},cK=cH&&function(a){let b;return b=async function(b,c,d){let e,f,g,h,i,j,k,{data:l,lookup:m,family:n,httpVersion:o=1,http2Options:p}=a,{responseType:q,responseEncoding:r}=a,s=a.method.toUpperCase(),t=!1;if(Number.isNaN(o*=1))throw TypeError(`Invalid protocol version: '${a.httpVersion}' is not a number`);if(1!==o&&2!==o)throw TypeError(`Unsupported protocol version '${o}'`);let u=2===o;if(m){let a,b,c=(a=m,b=a=>bv.isArray(a)?a:[a],bv.isAsyncFn(a)?function(...c){let d=c.pop();a.apply(this,c).then(a=>{try{b?d(null,...b(a)):d(null,a)}catch(a){d(a)}},d)}:a);m=(a,b,d)=>{c(a,b,(a,c,e)=>{if(a)return d(a);let f=bv.isArray(c)?c.map(a=>cI(a)):[cI(c,e)];b.all?d(a,f):d(a,f[0].address,f[0].family)})}}let v=new cj.EventEmitter;function w(b){try{v.emit("abort",!b||b.type?new b2(null,a,i):b)}catch(a){console.warn("emit error",a)}}v.once("abort",c);let x=()=>{a.cancelToken&&a.cancelToken.unsubscribe(w),a.signal&&a.signal.removeEventListener("abort",w),v.removeAllListeners()};(a.cancelToken||a.signal)&&(a.cancelToken&&a.cancelToken.subscribe(w),a.signal&&(a.signal.aborted?w():a.signal.addEventListener("abort",w))),d((a,b)=>{if(h=!0,b){t=!0,x();return}let{data:c}=a;if(c instanceof cf.default.Readable||c instanceof cf.default.Duplex){let a=cf.default.finished(c,()=>{a(),x()})}else x()});let y=b4(a.baseURL,a.url,a.allowAbsoluteUrls),z=new URL(y,bT.hasBrowserEnv?bT.origin:void 0),A=z.protocol||cD[0];if("data:"===A){let d;if(a.maxContentLength>-1&&function(a){if(!a||"string"!=typeof a||!a.startsWith("data:"))return 0;let b=a.indexOf(",");if(b<0)return 0;let c=a.slice(5,b),d=a.slice(b+1);if(/;base64/i.test(c)){let a=d.length,b=d.length;for(let c=0;c<b;c++)if(37===d.charCodeAt(c)&&c+2<b){let b=d.charCodeAt(c+1),e=d.charCodeAt(c+2);(b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102)&&(e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102)&&(a-=2,c+=2)}let c=0,e=b-1,f=a=>a>=2&&37===d.charCodeAt(a-2)&&51===d.charCodeAt(a-1)&&(68===d.charCodeAt(a)||100===d.charCodeAt(a));e>=0&&(61===d.charCodeAt(e)?(c++,e--):f(e)&&(c++,e-=3)),1===c&&e>=0&&(61===d.charCodeAt(e)?c++:f(e)&&c++);let g=3*Math.floor(a/4)-(c||0);return g>0?g:0}return Buffer.byteLength(d,"utf8")}(String(a.url||y||""))>a.maxContentLength)return c(new bx("maxContentLength size of "+a.maxContentLength+" exceeded",bx.ERR_BAD_RESPONSE,a));if("GET"!==s)return b3(b,c,{status:405,statusText:"method not allowed",headers:{},config:a});try{d=function(a,b,c){let d=c&&c.Blob||bT.classes.Blob,e=cd(a);if(void 0===b&&d&&(b=!0),"data"===e){a=e.length?a.slice(e.length+1):a;let c=ce.exec(a);if(!c)throw new bx("Invalid URL",bx.ERR_INVALID_URL);let f=c[1],g=c[2],h=c[3],i=Buffer.from(decodeURIComponent(h),g?"base64":"utf8");if(b){if(!d)throw new bx("Blob is not supported",bx.ERR_NOT_SUPPORT);return new d([i],{type:f})}return i}throw new bx("Unsupported protocol "+e,bx.ERR_NOT_SUPPORT)}(a.url,"blob"===q,{Blob:a.env&&a.env.Blob})}catch(b){throw bx.from(b,bx.ERR_BAD_REQUEST,a)}return"text"===q?(d=d.toString(r),r&&"utf8"!==r||(d=bv.stripBOM(d))):"stream"===q&&(d=cf.default.Readable.from(d)),b3(b,c,{data:d,status:200,statusText:"OK",headers:new b_,config:a})}if(-1===cD.indexOf(A))return c(new bx("Unsupported protocol "+A,bx.ERR_BAD_REQUEST,a));let B=b_.from(a.headers).normalize();B.set("User-Agent","axios/"+cc,!1);let{onUploadProgress:C,onDownloadProgress:D}=a,E=a.maxRate;if(bv.isSpecCompliantForm(l)){let a=B.getContentType(/boundary=([-_\w\d]{10,70})/i);l=((a,b,c)=>{let{tag:d="form-data-boundary",size:e=25,boundary:f=d+"-"+bT.generateString(e,cm)}=c||{};if(!bv.isFormData(a))throw TypeError("FormData instance required");if(f.length<1||f.length>70)throw Error("boundary must be 10-70 characters long");let g=cn.encode("--"+f+"\r\n"),h=cn.encode("--"+f+"--\r\n"),i=h.byteLength,j=Array.from(a.entries()).map(([a,b])=>{let c=new cp(a,b);return i+=c.size,c});i+=g.byteLength*j.length;let k={"Content-Type":`multipart/form-data; boundary=${f}`};return Number.isFinite(i=bv.toFiniteNumber(i))&&(k["Content-Length"]=i),b&&b(k),cf.Readable.from(async function*(){for(let a of j)yield g,yield*a.encode();yield h}())})(l,a=>{B.set(a)},{tag:`axios-${cc}-boundary`,boundary:a&&a[1]||void 0})}else if(bv.isFormData(l)&&bv.isFunction(l.getHeaders)){if(B.set(l.getHeaders()),!B.hasContentLength())try{let a=await b9.default.promisify(l.getLength).call(l);Number.isFinite(a)&&a>=0&&B.setContentLength(a)}catch(a){}}else if(bv.isBlob(l)||bv.isFile(l))l.size&&B.setContentType(l.type||"application/octet-stream"),B.setContentLength(l.size||0),l=cf.default.Readable.from(cl(l));else if(l&&!bv.isStream(l)){if(Buffer.isBuffer(l));else if(bv.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else{if(!bv.isString(l))return c(new bx("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",bx.ERR_BAD_REQUEST,a));l=Buffer.from(l,"utf-8")}if(B.setContentLength(l.length,!1),a.maxBodyLength>-1&&l.length>a.maxBodyLength)return c(new bx("Request body larger than maxBodyLength limit",bx.ERR_BAD_REQUEST,a))}let F=bv.toFiniteNumber(B.getContentLength());bv.isArray(E)?(e=E[0],f=E[1]):e=f=E,l&&(C||e)&&(bv.isStream(l)||(l=cf.default.Readable.from(l,{objectMode:!1})),l=cf.default.pipeline([l,new ci({maxRate:bv.toFiniteNumber(e)})],bv.noop),C&&l.on("progress",cE(l,cv(F,cu(cw(C),!1,3))))),a.auth&&(g=(a.auth.username||"")+":"+(a.auth.password||"")),!g&&z.username&&(g=z.username+":"+z.password),g&&B.delete("authorization");try{j=bI(z.pathname+z.search,a.params,a.paramsSerializer).replace(/^\?/,"")}catch(d){let b=Error(d.message);return b.config=a,b.url=a.url,b.exists=!0,c(b)}B.set("Accept-Encoding","gzip, compress, deflate"+(cz?", br":""),!1);let G={path:j,method:s,headers:B.toJSON(),agents:{http:a.httpAgent,https:a.httpsAgent},auth:g,protocol:A,family:n,beforeRedirect:cG,beforeRedirects:{},http2Options:p};bv.isUndefined(m)||(G.lookup=m),a.socketPath?G.socketPath=a.socketPath:(G.hostname=z.hostname.startsWith("[")?z.hostname.slice(1,-1):z.hostname,G.port=z.port,function a(b,c,d){let e=c;if(!e&&!1!==e){let a=b5.default.getProxyForUrl(d);a&&(e=new URL(a))}if(e){if(e.username&&(e.auth=(e.username||"")+":"+(e.password||"")),e.auth){if(e.auth.username||e.auth.password)e.auth=(e.auth.username||"")+":"+(e.auth.password||"");else if("object"==typeof e.auth)throw new bx("Invalid proxy authorization",bx.ERR_BAD_OPTION,{proxy:e});let a=Buffer.from(e.auth,"utf8").toString("base64");b.headers["Proxy-Authorization"]="Basic "+a}b.headers.host=b.hostname+(b.port?":"+b.port:"");let a=e.hostname||e.host;b.hostname=a,b.host=a,b.port=e.port,b.path=d,e.protocol&&(b.protocol=e.protocol.includes(":")?e.protocol:`${e.protocol}:`)}b.beforeRedirects.proxy=function(b){a(b,c,b.href)}}(G,a.proxy,A+"//"+z.hostname+(z.port?":"+z.port:"")+G.path));let H=cC.test(G.protocol);if(G.agent=H?a.httpsAgent:a.httpAgent,u?k=cJ:a.transport?k=a.transport:0===a.maxRedirects?k=H?b7.default:b6.default:(a.maxRedirects&&(G.maxRedirects=a.maxRedirects),a.beforeRedirect&&(G.beforeRedirects.config=a.beforeRedirect),k=H?cB:cA),a.maxBodyLength>-1?G.maxBodyLength=a.maxBodyLength:G.maxBodyLength=1/0,a.insecureHTTPParser&&(G.insecureHTTPParser=a.insecureHTTPParser),i=k.request(G,function(d){if(i.destroyed)return;let e=[d],g=bv.toFiniteNumber(d.headers["content-length"]);if(D||f){let a=new ci({maxRate:bv.toFiniteNumber(f)});D&&a.on("progress",cE(a,cv(g,cu(cw(D),!0,3)))),e.push(a)}let h=d,j=d.req||i;if(!1!==a.decompress&&d.headers["content-encoding"])switch(("HEAD"===s||204===d.statusCode)&&delete d.headers["content-encoding"],(d.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":e.push(cb.default.createUnzip(cx)),delete d.headers["content-encoding"];break;case"deflate":e.push(new cr),e.push(cb.default.createUnzip(cx)),delete d.headers["content-encoding"];break;case"br":cz&&(e.push(cb.default.createBrotliDecompress(cy)),delete d.headers["content-encoding"])}h=e.length>1?cf.default.pipeline(e,bv.noop):e[0];let k={status:d.statusCode,statusText:d.statusMessage,headers:new b_(d.headers),config:a,request:j};if("stream"===q)k.data=h,b3(b,c,k);else{let d=[],e=0;h.on("data",function(b){d.push(b),e+=b.length,a.maxContentLength>-1&&e>a.maxContentLength&&(t=!0,h.destroy(),w(new bx("maxContentLength size of "+a.maxContentLength+" exceeded",bx.ERR_BAD_RESPONSE,a,j)))}),h.on("aborted",function(){if(t)return;let b=new bx("stream has been aborted",bx.ERR_BAD_RESPONSE,a,j);h.destroy(b),c(b)}),h.on("error",function(b){i.destroyed||c(bx.from(b,null,a,j))}),h.on("end",function(){try{let a=1===d.length?d[0]:Buffer.concat(d);"arraybuffer"!==q&&(a=a.toString(r),r&&"utf8"!==r||(a=bv.stripBOM(a))),k.data=a}catch(b){return c(bx.from(b,null,a,k.request,k))}b3(b,c,k)})}v.once("abort",a=>{h.destroyed||(h.emit("error",a),h.destroy())})}),v.once("abort",a=>{i.close?i.close():i.destroy(a)}),i.on("error",function(b){c(bx.from(b,null,a,i))}),i.on("socket",function(a){a.setKeepAlive(!0,6e4)}),a.timeout){let b=parseInt(a.timeout,10);if(Number.isNaN(b))return void w(new bx("error trying to parse `config.timeout` to int",bx.ERR_BAD_OPTION_VALUE,a,i));i.setTimeout(b,function(){if(h)return;let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded",c=a.transitional||bK;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),w(new bx(b,c.clarifyTimeoutError?bx.ETIMEDOUT:bx.ECONNABORTED,a,i))})}else i.setTimeout(0);if(bv.isStream(l)){let b=!1,c=!1;l.on("end",()=>{b=!0}),l.once("error",a=>{c=!0,i.destroy(a)}),l.on("close",()=>{b||c||w(new b2("Request stream has been aborted",a,i))}),l.pipe(i)}else l&&i.write(l),i.end()},new Promise((a,c)=>{let d,e,f=(a,b)=>{!e&&(e=!0,d&&d(a,b))},g=a=>{f(a,!0),c(a)};b(b=>{f(b),a(b)},g,a=>d=a).catch(g)})},cL=bT.hasStandardBrowserEnv?(d=new URL(bT.origin),e=bT.navigator&&/(msie|trident)/i.test(bT.navigator.userAgent),a=>(a=new URL(a,bT.origin),d.protocol===a.protocol&&d.host===a.host&&(e||d.port===a.port))):()=>!0,cM=bT.hasStandardBrowserEnv?{write(a,b,c,d,e,f,g){if("u"<typeof document)return;let h=[`${a}=${encodeURIComponent(b)}`];bv.isNumber(c)&&h.push(`expires=${new Date(c).toUTCString()}`),bv.isString(d)&&h.push(`path=${d}`),bv.isString(e)&&h.push(`domain=${e}`),!0===f&&h.push("secure"),bv.isString(g)&&h.push(`SameSite=${g}`),document.cookie=h.join("; ")},read(a){if("u"<typeof document)return null;let b=document.cookie.match(RegExp("(?:^|; )"+a+"=([^;]*)"));return b?decodeURIComponent(b[1]):null},remove(a){this.write(a,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}},cN=a=>a instanceof b_?{...a}:a;function cO(a,b){b=b||{};let c={};function d(a,b,c,d){return bv.isPlainObject(a)&&bv.isPlainObject(b)?bv.merge.call({caseless:d},a,b):bv.isPlainObject(b)?bv.merge({},b):bv.isArray(b)?b.slice():b}function e(a,b,c,e){return bv.isUndefined(b)?bv.isUndefined(a)?void 0:d(void 0,a,c,e):d(a,b,c,e)}function f(a,b){if(!bv.isUndefined(b))return d(void 0,b)}function g(a,b){return bv.isUndefined(b)?bv.isUndefined(a)?void 0:d(void 0,a):d(void 0,b)}function h(c,e,f){return f in b?d(c,e):f in a?d(void 0,c):void 0}let i={url:f,method:f,data:f,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:h,headers:(a,b,c)=>e(cN(a),cN(b),c,!0)};return bv.forEach(Object.keys({...a,...b}),function(d){let f=i[d]||e,g=f(a[d],b[d],d);bv.isUndefined(g)&&f!==h||(c[d]=g)}),c}let cP=a=>{let b=cO({},a),{data:c,withXSRFToken:d,xsrfHeaderName:e,xsrfCookieName:f,headers:g,auth:h}=b;if(b.headers=g=b_.from(g),b.url=bI(b4(b.baseURL,b.url,b.allowAbsoluteUrls),a.params,a.paramsSerializer),h&&g.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),bv.isFormData(c)){if(bT.hasStandardBrowserEnv||bT.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if(bv.isFunction(c.getHeaders)){let a=c.getHeaders(),b=["content-type","content-length"];Object.entries(a).forEach(([a,c])=>{b.includes(a.toLowerCase())&&g.set(a,c)})}}if(bT.hasStandardBrowserEnv&&(d&&bv.isFunction(d)&&(d=d(b)),d||!1!==d&&cL(b.url))){let a=e&&f&&cM.read(f);a&&g.set(e,a)}return b},cQ="u">typeof XMLHttpRequest&&function(a){return new Promise(function(b,c){let d,e,f,g,h,i=cP(a),j=i.data,k=b_.from(i.headers).normalize(),{responseType:l,onUploadProgress:m,onDownloadProgress:n}=i;function o(){g&&g(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;function q(){if(!p)return;let d=b_.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());b3(function(a){b(a),o()},function(a){c(a),o()},{data:l&&"text"!==l&&"json"!==l?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:d,config:a,request:p}),p=null}p.open(i.method.toUpperCase(),i.url,!0),p.timeout=i.timeout,"onloadend"in p?p.onloadend=q:p.onreadystatechange=function(){!p||4!==p.readyState||(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(q)},p.onabort=function(){p&&(c(new bx("Request aborted",bx.ECONNABORTED,a,p)),p=null)},p.onerror=function(b){let d=new bx(b&&b.message?b.message:"Network Error",bx.ERR_NETWORK,a,p);d.event=b||null,c(d),p=null},p.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",d=i.transitional||bK;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),c(new bx(b,d.clarifyTimeoutError?bx.ETIMEDOUT:bx.ECONNABORTED,a,p)),p=null},void 0===j&&k.setContentType(null),"setRequestHeader"in p&&bv.forEach(k.toJSON(),function(a,b){p.setRequestHeader(b,a)}),bv.isUndefined(i.withCredentials)||(p.withCredentials=!!i.withCredentials),l&&"json"!==l&&(p.responseType=i.responseType),n&&([f,h]=cu(n,!0),p.addEventListener("progress",f)),m&&p.upload&&([e,g]=cu(m),p.upload.addEventListener("progress",e),p.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=b=>{p&&(c(!b||b.type?new b2(null,a,p):b),p.abort(),p=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));let r=cd(i.url);r&&-1===bT.protocols.indexOf(r)?c(new bx("Unsupported protocol "+r+":",bx.ERR_BAD_REQUEST,a)):p.send(j||null)})},cR=function*(a,b){let c,d=a.byteLength;if(!b||d<b)return void(yield a);let e=0;for(;e<d;)c=e+b,yield a.slice(e,c),e=c},cS=async function*(a,b){for await(let c of cT(a))yield*cR(c,b)},cT=async function*(a){if(a[Symbol.asyncIterator])return void(yield*a);let b=a.getReader();try{for(;;){let{done:a,value:c}=await b.read();if(a)break;yield c}}finally{await b.cancel()}},cU=(a,b,c,d)=>{let e,f=cS(a,b),g=0,h=a=>{!e&&(e=!0,d&&d(a))};return new ReadableStream({async pull(a){try{let{done:b,value:d}=await f.next();if(b){h(),a.close();return}let e=d.byteLength;if(c){let a=g+=e;c(a)}a.enqueue(new Uint8Array(d))}catch(a){throw h(a),a}},cancel:a=>(h(a),f.return())},{highWaterMark:2})},{isFunction:cV}=bv,cW=(({Request:a,Response:b})=>({Request:a,Response:b}))(bv.global),{ReadableStream:cX,TextEncoder:cY}=bv.global,cZ=(a,...b)=>{try{return!!a(...b)}catch(a){return!1}},c$=a=>{let b,{fetch:c,Request:d,Response:e}=a=bv.merge.call({skipUndefined:!0},cW,a),f=c?cV(c):"function"==typeof fetch,g=cV(d),h=cV(e);if(!f)return!1;let i=f&&cV(cX),j=f&&("function"==typeof cY?(b=new cY,a=>b.encode(a)):async a=>new Uint8Array(await new d(a).arrayBuffer())),k=g&&i&&cZ(()=>{let a=!1,b=new d(bT.origin,{body:new cX,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type");return a&&!b}),l=h&&i&&cZ(()=>bv.isReadableStream(new e("").body)),m={stream:l&&(a=>a.body)};f&&["text","arrayBuffer","blob","formData","stream"].forEach(a=>{m[a]||(m[a]=(b,c)=>{let d=b&&b[a];if(d)return d.call(b);throw new bx(`Response type '${a}' is not supported`,bx.ERR_NOT_SUPPORT,c)})});let n=async a=>{if(null==a)return 0;if(bv.isBlob(a))return a.size;if(bv.isSpecCompliantForm(a)){let b=new d(bT.origin,{method:"POST",body:a});return(await b.arrayBuffer()).byteLength}return bv.isArrayBufferView(a)||bv.isArrayBuffer(a)?a.byteLength:(bv.isURLSearchParams(a)&&(a+=""),bv.isString(a))?(await j(a)).byteLength:void 0},o=async(a,b)=>{let c=bv.toFiniteNumber(a.getContentLength());return null==c?n(b):c};return async a=>{let b,{url:f,method:h,data:i,signal:j,cancelToken:n,timeout:p,onDownloadProgress:q,onUploadProgress:r,responseType:s,headers:t,withCredentials:u="same-origin",fetchOptions:v}=cP(a),w=c||fetch;s=s?(s+"").toLowerCase():"text";let x=((a,b)=>{let{length:c}=a=a?a.filter(Boolean):[];if(b||c){let c,d=new AbortController,e=function(a){if(!c){c=!0,g();let b=a instanceof Error?a:this.reason;d.abort(b instanceof bx?b:new b2(b instanceof Error?b.message:b))}},f=b&&setTimeout(()=>{f=null,e(new bx(`timeout of ${b}ms exceeded`,bx.ETIMEDOUT))},b),g=()=>{a&&(f&&clearTimeout(f),f=null,a.forEach(a=>{a.unsubscribe?a.unsubscribe(e):a.removeEventListener("abort",e)}),a=null)};a.forEach(a=>a.addEventListener("abort",e));let{signal:h}=d;return h.unsubscribe=()=>bv.asap(g),h}})([j,n&&n.toAbortSignal()],p),y=null,z=x&&x.unsubscribe&&(()=>{x.unsubscribe()});try{if(r&&k&&"get"!==h&&"head"!==h&&0!==(b=await o(t,i))){let a,c=new d(f,{method:"POST",body:i,duplex:"half"});if(bv.isFormData(i)&&(a=c.headers.get("content-type"))&&t.setContentType(a),c.body){let[a,d]=cv(b,cu(cw(r)));i=cU(c.body,65536,a,d)}}bv.isString(u)||(u=u?"include":"omit");let c=g&&"credentials"in d.prototype,j={...v,signal:x,method:h.toUpperCase(),headers:t.normalize().toJSON(),body:i,duplex:"half",credentials:c?u:void 0};y=g&&new d(f,j);let n=await (g?w(y,v):w(f,j)),p=l&&("stream"===s||"response"===s);if(l&&(q||p&&z)){let a={};["status","statusText","headers"].forEach(b=>{a[b]=n[b]});let b=bv.toFiniteNumber(n.headers.get("content-length")),[c,d]=q&&cv(b,cu(cw(q),!0))||[];n=new e(cU(n.body,65536,c,()=>{d&&d(),z&&z()}),a)}s=s||"text";let A=await m[bv.findKey(m,s)||"text"](n,a);return!p&&z&&z(),await new Promise((b,c)=>{b3(b,c,{data:A,headers:b_.from(n.headers),status:n.status,statusText:n.statusText,config:a,request:y})})}catch(b){if(z&&z(),b&&"TypeError"===b.name&&/Load failed|fetch/i.test(b.message))throw Object.assign(new bx("Network Error",bx.ERR_NETWORK,a,y),{cause:b.cause||b});throw bx.from(b,b&&b.code,a,y)}}},c_=new Map,c0=a=>{let b=a&&a.env||{},{fetch:c,Request:d,Response:e}=b,f=[d,e,c],g=f.length,h,i,j=c_;for(;g--;)h=f[g],void 0===(i=j.get(h))&&j.set(h,i=g?new Map:c$(b)),j=i;return i};c0();let c1={http:cK,xhr:cQ,fetch:{get:c0}};bv.forEach(c1,(a,b)=>{if(a){try{Object.defineProperty(a,"name",{value:b})}catch(a){}Object.defineProperty(a,"adapterName",{value:b})}});let c2=a=>`- ${a}`,c3=a=>bv.isFunction(a)||null===a||!1===a,c4=function(a,b){let c,d,{length:e}=a=bv.isArray(a)?a:[a],f={};for(let g=0;g<e;g++){let e;if(d=c=a[g],!c3(c)&&void 0===(d=c1[(e=String(c)).toLowerCase()]))throw new bx(`Unknown adapter '${e}'`);if(d&&(bv.isFunction(d)||(d=d.get(b))))break;f[e||"#"+g]=d}if(!d){let a=Object.entries(f).map(([a,b])=>`adapter ${a} `+(!1===b?"is not supported by the environment":"is not available in the build"));throw new bx("There is no suitable adapter to dispatch the request "+(e?a.length>1?"since :\n"+a.map(c2).join("\n"):" "+c2(a[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return d};function c5(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new b2(null,a)}function c6(a){return c5(a),a.headers=b_.from(a.headers),a.data=b0.call(a,a.transformRequest),-1!==["post","put","patch"].indexOf(a.method)&&a.headers.setContentType("application/x-www-form-urlencoded",!1),c4(a.adapter||bV.adapter,a)(a).then(function(b){return c5(a),b.data=b0.call(a,a.transformResponse,b),b.headers=b_.from(b.headers),b},function(b){return!b1(b)&&(c5(a),b&&b.response&&(b.response.data=b0.call(a,a.transformResponse,b.response),b.response.headers=b_.from(b.response.headers))),Promise.reject(b)})}let c7={};["object","boolean","number","function","string","symbol"].forEach((a,b)=>{c7[a]=function(c){return typeof c===a||"a"+(b<1?"n ":" ")+a}});let c8={};c7.transitional=function(a,b,c){function d(a,b){return"[Axios v"+cc+"] Transitional option '"+a+"'"+b+(c?". "+c:"")}return(c,e,f)=>{if(!1===a)throw new bx(d(e," has been removed"+(b?" in "+b:"")),bx.ERR_DEPRECATED);return b&&!c8[e]&&(c8[e]=!0,console.warn(d(e," has been deprecated since v"+b+" and will be removed in the near future"))),!a||a(c,e,f)}},c7.spelling=function(a){return(b,c)=>(console.warn(`${c} is likely a misspelling of ${a}`),!0)};let c9=function(a,b,c){if("object"!=typeof a)throw new bx("options must be an object",bx.ERR_BAD_OPTION_VALUE);let d=Object.keys(a),e=d.length;for(;e-- >0;){let f=d[e],g=b[f];if(g){let b=a[f],c=void 0===b||g(b,f,a);if(!0!==c)throw new bx("option "+f+" must be "+c,bx.ERR_BAD_OPTION_VALUE);continue}if(!0!==c)throw new bx("Unknown option "+f,bx.ERR_BAD_OPTION)}};class da{constructor(a){this.defaults=a||{},this.interceptors={request:new bJ,response:new bJ}}async request(a,b){try{return await this._request(a,b)}catch(a){if(a instanceof Error){let b={};Error.captureStackTrace?Error.captureStackTrace(b):b=Error();let c=b.stack?b.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+c):a.stack=c}catch(a){}}throw a}}_request(a,b){let c,d;"string"==typeof a?(b=b||{}).url=a:b=a||{};let{transitional:e,paramsSerializer:f,headers:g}=b=cO(this.defaults,b);void 0!==e&&c9(e,{silentJSONParsing:c7.transitional(c7.boolean),forcedJSONParsing:c7.transitional(c7.boolean),clarifyTimeoutError:c7.transitional(c7.boolean)},!1),null!=f&&(bv.isFunction(f)?b.paramsSerializer={serialize:f}:c9(f,{encode:c7.function,serialize:c7.function},!0)),void 0!==b.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?b.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:b.allowAbsoluteUrls=!0),c9(b,{baseUrl:c7.spelling("baseURL"),withXsrfToken:c7.spelling("withXSRFToken")},!0),b.method=(b.method||this.defaults.method||"get").toLowerCase();let h=g&&bv.merge(g.common,g[b.method]);g&&bv.forEach(["delete","get","head","post","put","patch","common"],a=>{delete g[a]}),b.headers=b_.concat(h,g);let i=[],j=!0;this.interceptors.request.forEach(function(a){("function"!=typeof a.runWhen||!1!==a.runWhen(b))&&(j=j&&a.synchronous,i.unshift(a.fulfilled,a.rejected))});let k=[];this.interceptors.response.forEach(function(a){k.push(a.fulfilled,a.rejected)});let l=0;if(!j){let a=[c6.bind(this),void 0];for(a.unshift(...i),a.push(...k),d=a.length,c=Promise.resolve(b);l<d;)c=c.then(a[l++],a[l++]);return c}d=i.length;let m=b;for(;l<d;){let a=i[l++],b=i[l++];try{m=a(m)}catch(a){b.call(this,a);break}}try{c=c6.call(this,m)}catch(a){return Promise.reject(a)}for(l=0,d=k.length;l<d;)c=c.then(k[l++],k[l++]);return c}getUri(a){return bI(b4((a=cO(this.defaults,a)).baseURL,a.url,a.allowAbsoluteUrls),a.params,a.paramsSerializer)}}bv.forEach(["delete","get","head","options"],function(a){da.prototype[a]=function(b,c){return this.request(cO(c||{},{method:a,url:b,data:(c||{}).data}))}}),bv.forEach(["post","put","patch"],function(a){function b(b){return function(c,d,e){return this.request(cO(e||{},{method:a,headers:b?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}da.prototype[a]=b(),da.prototype[a+"Form"]=b(!0)});class db{constructor(a){let b;if("function"!=typeof a)throw TypeError("executor must be a function.");this.promise=new Promise(function(a){b=a});const c=this;this.promise.then(a=>{if(!c._listeners)return;let b=c._listeners.length;for(;b-- >0;)c._listeners[b](a);c._listeners=null}),this.promise.then=a=>{let b,d=new Promise(a=>{c.subscribe(a),b=a}).then(a);return d.cancel=function(){c.unsubscribe(b)},d},a(function(a,d,e){c.reason||(c.reason=new b2(a,d,e),b(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){this.reason?a(this.reason):this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;let b=this._listeners.indexOf(a);-1!==b&&this._listeners.splice(b,1)}toAbortSignal(){let a=new AbortController,b=b=>{a.abort(b)};return this.subscribe(b),a.signal.unsubscribe=()=>this.unsubscribe(b),a.signal}static source(){let a;return{token:new db(function(b){a=b}),cancel:a}}}let dc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dc).forEach(([a,b])=>{dc[b]=a});let dd=function a(b){let c=new da(b),d=aV(da.prototype.request,c);return bv.extend(d,da.prototype,c,{allOwnKeys:!0}),bv.extend(d,c,null,{allOwnKeys:!0}),d.create=function(c){return a(cO(b,c))},d}(bV);dd.Axios=da,dd.CanceledError=b2,dd.CancelToken=db,dd.isCancel=b1,dd.VERSION=cc,dd.toFormData=bD,dd.AxiosError=bx,dd.Cancel=dd.CanceledError,dd.all=function(a){return Promise.all(a)},dd.spread=function(a){return function(b){return a.apply(null,b)}},dd.isAxiosError=function(a){return bv.isObject(a)&&!0===a.isAxiosError},dd.mergeConfig=cO,dd.AxiosHeaders=b_,dd.formToJSON=a=>bU(bv.isHTMLForm(a)?new FormData(a):a),dd.getAdapter=c4,dd.HttpStatusCode=dc,dd.default=dd;let de={get url(){return`file://${a.P("src/services/vapiService.ts")}`}},df=async a=>{let b="u">typeof process&&process.env&&1?"bacd6347-5d42-44a5-be80-b6cdf89e4967":de.env&&de.env.VITE_VAPI_PRIVATE_KEY?de.env.VITE_VAPI_PRIVATE_KEY:null;if(!b)throw Error("Missing VAPI Private Key. Cannot deploy assistant.");let c=a.metadata.businessName||"the company",d=a.metadata.industry||"Voice AI Support",e=a.vapi.systemPrompt.replace(/{{COMPANY_NAME}}/g,c).replace(/{{Company name}}/gi,c).replace(/{{DEPARTMENT_NAME}}/g,d),f=(a.vapi.firstMessage||`Hello, thank you for calling ${c}!`).replace(/{{COMPANY_NAME}}/g,c).replace(/{{Company name}}/gi,c).replace(/{{USER_NAME}}/gi,a.vapi.userName||"there").replace(/{{Name}}/gi,a.vapi.userName||"there").replace(/{{User Name}}/gi,a.vapi.userName||"there").replace(/{{First Name}}/gi,(a.vapi.userName||"there").split(" ")[0]),g={provider:String(a.vapi.provider||"openai").toLowerCase(),model:String(a.vapi.model||"gpt-4o-mini").toLowerCase(),messages:[{role:"system",content:`${e}

# USER CONTEXT
${a.vapi.userName||a.vapi.userEmail||a.vapi.userPhone?`Information about the user is already known:
`+(a.vapi.userName?`- Name: ${a.vapi.userName}
`:"")+(a.vapi.userEmail?`- Email: ${a.vapi.userEmail}
`:"")+(a.vapi.userPhone?`- Phone: ${a.vapi.userPhone}
`:"")+"DO NOT ask for these details as they have already been provided.":"No specific user information provided yet. Collect Name, Email, and Phone if required by the workflow."}`}],temperature:Number(a.vapi.temperature||.3)},h={provider:String(a.vapi.voiceProvider||"vapi").toLowerCase(),voiceId:String(a.vapi.voiceId||"Mia")},i=null,j=String(a.vapi.transcriber.provider||"deepgram").toLowerCase();i="openai"===j?{provider:"openai"}:{provider:j,model:String(a.vapi.transcriber.model||"nova-2").toLowerCase(),language:String(a.vapi.transcriber.language||"en").toLowerCase()};let k={name:String(c),model:g,voice:h,transcriber:i,backgroundSound:"default"!==a.vapi.backgroundSound&&a.vapi.backgroundSound?a.vapi.backgroundSound:"off",firstMessage:String(f)};if(a.vapi.knowledgeBase){let b=a.vapi.knowledgeBase.replace(/{{COMPANY_NAME}}/g,c).replace(/{{Company name}}/gi,c);k.model.messages[0].content+=`

# KNOWLEDGE BASE / FAQs
${b}`}console.log("[VAPI] Final Payload Check:",JSON.stringify(k)),k.transcriber&&delete k.transcriber.punctuation;try{let a=await dd.post("https://api.vapi.ai/assistant",k,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});return console.log("VAPI Assistant Created Successfully"),a.data}catch(a){throw console.error("VAPI API Error Details:",a.response?.data),Error(`VAPI Creation Failed: ${a.response?.data?.message||a.message}`)}},dg={get url(){return`file://${a.P("src/services/researchService.ts")}`}},dh=async a=>{let b="u">typeof process&&process.env&&1?"752af1c25737f27fb2715563a5534b7bec87c572":dg.env&&dg.env.VITE_SERPER_API_KEY||null;if(!b)return console.warn("VITE_SERPER_API_KEY missing in .env. Falling back to AI only."),{searchQuery:a,webResults:[]};try{console.log(`Researching: ${a}...`);let c=(await dd.post("https://google.serper.dev/search",{q:a,gl:"us",hl:"en",autocorrect:!0},{headers:{"X-API-KEY":b,"Content-Type":"application/json"}})).data;return{searchQuery:a,webResults:c.organic||[],placesResults:c.knowledgeGraph?[c.knowledgeGraph]:[]}}catch(b){return console.error("Research Phase Failed:",b),{searchQuery:a,webResults:[]}}},di=[{id:"dental_clinic",name:"Dental Clinic",industry:"Dental",systemPrompt:`You are a professional Dental Receptionist at {{COMPANY_NAME}}. 
Your goal is to assist patients with booking appointments, answering questions about services, and collecting insurance information.
- Always maintain a professional, calm, and reassuring tone.
- Be extremely mindful of patient privacy (HIPAA).
- If a patient mentions an emergency (extreme pain, bleeding), prioritize finding the soonest possible slot today.
- Confirm if they are a new or returning patient.`,firstMessage:"Hello {{USER_NAME}}, thank you for calling {{COMPANY_NAME}}. How can I help you with your dental care today?",mandatoryFields:["Name","Phone","Service Type","New or Returning Patient"],optionalFields:["Email","Insurance Provider"],suggestedServices:["Routine Cleaning","Emergency Exam","Teeth Whitening","Consultation"],defaultTone:"Professional and Reassuring"},{id:"real_estate",name:"Real Estate Agency",industry:"Real Estate",systemPrompt:`You are a high-energy, helpful Real Estate Assistant for {{COMPANY_NAME}}.
Your primary goal is to qualify leads and book property viewings or listing consultations.
- Be proactive and enthusiastic.
- Ask if they are looking to buy, sell, or rent.
- Collect details about their budget and preferred neighborhoods.
- For sellers, offer a free "Home Valuation" consultation.`,firstMessage:"Hi {{USER_NAME}}! Thanks for reaching out to {{COMPANY_NAME}}. Are you looking for your dream home or interested in selling a property?",mandatoryFields:["Name","Phone","Interest (Buy/Sell/Rent)"],optionalFields:["Email","Budget Range","Location Preference"],suggestedServices:["Property Viewing","Listing Consultation","Home Valuation","Market Analysis"],defaultTone:"Enthusiastic and Proactive"},{id:"hvac_home_services",name:"HVAC & Home Services",industry:"Home Services",systemPrompt:`You are a reliable Dispatch Assistant for {{COMPANY_NAME}}, a premium home services provider.
Your goal is to understand the customer's service needs and schedule a technician.
- Maintain a helpful and efficient tone.
- For emergency HVAC issues (no heat in winter, no AC in summer), treat as high priority.
- Ask for the primary issue: Repair, Maintenance, or Installation.
- Verify the service address for the dispatch.`,firstMessage:"Hello {{USER_NAME}}, thanks for calling {{COMPANY_NAME}}. Is this an emergency service call or would you like to schedule a routine repair?",mandatoryFields:["Name","Phone","Service Address","Issue Description"],optionalFields:["Email","Preferred Time Window"],suggestedServices:["HVAC Repair","Seasonal Maintenance","System Installation","Emergency Call-out"],defaultTone:"Reliable and Professional"},{id:"law_firm",name:"Law Firm",industry:"Legal",systemPrompt:`You are a discreet and professional Legal Intake Specialist at {{COMPANY_NAME}}.
Your goal is to collect initial details for a potential new case and book an initial consultation.
- Tone: Formal, serious, and empathetic.
- CRITICAL: Do not provide legal advice. Remind callers that you are an AI assistant and a consultation with an attorney is required.
- Perform a basic conflict-of-interest check by asking for the names of any other parties involved.`,firstMessage:"Good day {{USER_NAME}}. Thank you for contacting {{COMPANY_NAME}}. To better assist you, could you please provide a brief overview of your legal inquiry?",mandatoryFields:["Name","Phone","Type of Case"],optionalFields:["Email","Opposing Party Names","Urgency"],suggestedServices:["Initial Consultation","Case Review","Document Signing Appointment"],defaultTone:"Formal and Empathetic"},{id:"beauty_salon",name:"Beauty & Hair Salon",industry:"Beauty",systemPrompt:`You are a stylish and helpful Front Desk Coordinator at {{COMPANY_NAME}}.
Your goal is to book appointments for hair, nails, and other beauty services.
- Tone: Friendly, upbeat, and trendy.
- Ask if they have a preferred stylist or technician.
- Mention any current seasonal promotions or special packages.
- Confirm the specific service requested (e.g., Color vs. Cut).`,firstMessage:"Hi {{USER_NAME}}! Welcome to {{COMPANY_NAME}}. Looking to refresh your look today?",mandatoryFields:["Name","Phone","Service Desired"],optionalFields:["Email","Preferred Stylist","Appointment Notes"],suggestedServices:["Haircut & Style","Full Color","Manicure/Pedicure","Bridal Updo"],defaultTone:"Friendly and Trendy"},{id:"veterinary",name:"Pet Care & Veterinary",industry:"Veterinary",systemPrompt:`You are a compassionate veterinary assistant at {{COMPANY_NAME}}.
Your goal is to help pet owners schedule appointments and answer basic questions about pet care.
- Tone: Empathetic, warm, and professional.
- Ask for the pet's name and species (dog, cat, etc.).
- If it's an emergency (injury, poisoning, difficulty breathing), instruct them to come in immediately or call the emergency line.
- Confirm if it's a routine check-up, vaccination, or a specific health concern.`,firstMessage:"Hello {{USER_NAME}}! This is {{COMPANY_NAME}}. How can we help your furry friend today?",mandatoryFields:["Name","Phone","Pet Name","Reason for Visit"],optionalFields:["Email","Species/Breed"],suggestedServices:["Annual Wellness Exam","Vaccination","Sick Pet Consult","Dental Cleaning"],defaultTone:"Empathetic and Professional"}],dj=a=>di.find(b=>b.name===a),dk=["Dental Clinic","Real Estate Agency","HVAC & Home Services","Law Firm","Beauty & Hair Salon","Pet Care & Veterinary","Generic Support"],dl={appName:"Voice AI Admin",logoUrl:"",primaryColor:"#0f172a"},dm={metadata:{businessName:"",industry:"",primaryUseCase:"",targetUsers:"",description:"",createdAt:new Date().toISOString()},services:[],locations:[],resources:[],dataFields:{mandatory:["Name","Phone"],optional:["Email"],validationRules:"Phone must be E.164 format"},conversation:{tone:"Helpful and polite",formality:"Professional",speakingStyle:"Clear and concise",speechPace:"Normal",smallTalkAllowed:!0,identityDisclosure:"Always"},safety:{allowedTopics:"Services, Booking, Business Info",disallowedTopics:"Competitors, Personal Advice, Politics",complianceConstraints:"None"},integrations:{firebase:!0,googleCalendar:!1},operationMode:"Training",vapi:{systemPrompt:`AI Assistant is a sophisticated AI training assistant, crafted by experts in customer support and AI development at {{COMPANY_NAME}} within the {{DEPARTMENT_NAME}} team. Designed with the persona of a seasoned customer support professional, AI Assistant combines deep technical knowledge with a strong sense of emotional intelligence. AI Assistants primary role is to serve as a dynamic training platform for customer support agents, simulating a broad range of service scenarios, from basic inquiries to complex problem-solving challenges.

AI Assistants advanced capabilities allow it to replicate diverse customer service situations, making it an invaluable tool for training purposes. It guides new agents through simulated interactions, offering real-time feedback and guidance to refine skills in handling customer needs with patience, empathy, and professionalism. AI Assistant ensures every trainee learns to listen actively, respond thoughtfully, and uphold the highest standards of customer care.

Primary Mode of Interaction

AI Assistant interacts primarily through voice, accurately interpreting spoken queries and responding naturally through audio. This design prepares trainees for real customer conversations and live call environments. AI Assistant is engineered to recognize and adapt to emotional cues in speech, allowing trainees to practice managing emotional nuances with confidence and care.

Training Guidance

AI Assistant encourages trainees to practice active listening by acknowledging customer queries with clear confirmation of engagement, such as expressing presence and readiness to help.

AI Assistant emphasizes clear and empathetic communication, always tailored to the specific context of each interaction.

AI Assistant demonstrates how to handle unclear or complex customer concerns by asking thoughtful, open-ended clarifying questions in a natural and human manner.

AI Assistant teaches trainees to express empathy and understanding, particularly when customers are frustrated or dissatisfied, ensuring concerns are addressed with care and a strong focus on resolution.

AI Assistant prepares agents to transition interactions smoothly to human colleagues when appropriate, reinforcing the importance of human connection in sensitive or complex situations.

AI Assistants overarching mission is to strengthen the human side of customer support through immersive, scenario-based training. It is not merely an answer engine, but a refined training platform designed to develop knowledgeable, empathetic, and adaptable customer support professionals.

Additional Instruction

AI Assistant must not use numeric characters in any response.`,provider:"OpenAI",model:"gpt-4o-mini",firstMessage:"Hi there, this is AI Agent from {{Company name}}. How can I help you today?",temperature:.3,voiceProvider:"vapi",voiceId:"Mia",transcriber:{provider:"deepgram",language:"en",model:"nova-2"},backgroundSound:"default",knowledgeBase:`# FAQs for {{Company Name}}

## 1. What services do you offer?
We offer a range of services tailored to your needs. Please ask our AI assistant or check our services page for specific offerings.

## 2. How can I book an appointment?
You can book an appointment directly through our website, by calling us, or by speaking with our AI assistant immediately.

## 3. What are your operating hours?
We are open from Monday to Friday, 9:00 AM to 5:00 PM. Weekend availability varies by location.

## 4. Do you offer virtual consultations?
Yes, we offer virtual consultations for select services. Please check our booking page for availability.

## 5. What is your cancellation policy?
We require at least 24 hours' notice for cancellations. Late cancellations may incur a fee.

## 6. Where are you located?
Our primary location is [Address]. We also serve clients remotely depending on the service.

## 7. Do you accept insurance?
We stand by our transparent pricing. Please contact our billing department to discuss insurance compatibility.

## 8. How can I contact support?
You can reach our support team via email at support@[company].com or by calling our main line.

## 9. Is there a parking area?
Yes, generic parking is available on-site for all our visitors.

## 10. What payment methods do you accept?
We accept all major credit cards, debit cards, and digital payment methods like Apple Pay and Google Pay.`,clientUrl:"https://voice-agent-eight-delta.vercel.app",userName:"",userEmail:"",userPhone:""}},dn=N("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),dp=N("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),dq=N("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),dr=N("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ds=N("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),dt=N("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),du=N("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),dv=N("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),dw=N("phone-call",[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.i(30485);var dx=a.i(31052);function dy(){let[b,c]=(0,I.useState)(null),[d,e]=(0,I.useState)(!0),[f,g]=(0,I.useState)(!1),[h,i]=(0,I.useState)(!1),[j,k]=(0,I.useState)("metadata"),[l,m]=(0,I.useState)(dm),[n,o]=(0,I.useState)(""),[p,q]=(0,I.useState)(!1),[r,s]=(0,I.useState)(!1),[t,u]=(0,I.useState)(!1),[v,w]=(0,I.useState)(!1),[x,y]=(0,I.useState)(!1),[z,A]=(0,I.useState)(!1),[B,C]=(0,I.useState)([]),[D,E]=(0,I.useState)(null),[F,G]=(0,I.useState)(dl),[J,K]=(0,I.useState)(!1),[L,M]=(0,I.useState)("BASIC"),[N,O]=(0,I.useState)(!1),[Q,R]=(0,I.useState)(!1),[S,T]=(0,I.useState)(null);(0,I.useRef)(null),(0,I.useEffect)(()=>{b&&U()},[b]),(0,I.useEffect)(()=>{document.documentElement.style.setProperty("--brand-primary",F.primaryColor)},[F.primaryColor]);let U=async()=>{K(!0);try{let{getOrgData:b}=await a.A(33303),c=await b();c&&(c.branding&&G(c.branding),c.plan&&M(c.plan))}catch(a){console.error("Failed to load org data",a)}finally{K(!1)}},V=async()=>{K(!0);try{await (0,aU.saveBranding)(F),alert("Branding settings saved for your organization!")}catch(a){alert("Error saving branding: "+a.message)}finally{K(!1)}};(0,I.useEffect)(()=>{let a=(0,dx.onAuthStateChanged)(aU.auth,a=>{c(a),e(!1),g(!1),a?(i(!1),Y(),m(a=>({...a,integrations:{firebase:!0,...a.integrations||{},googleCalendar:!0}}))):C([])});return()=>a()},[]);let W=async()=>{g(!0);try{await (0,aU.loginWithGoogle)()}catch(a){throw console.error("Login Error",a),g(!1),a}},X=async()=>{if(h){i(!1),m(dm),s(!1);return}try{await (0,aU.logoutUser)(),s(!1),m(dm)}catch(a){console.error("Logout Error",a)}},Y=async()=>{try{let{getAgents:b}=await a.A(33303),c=await b();C(c)}catch(a){console.error("Failed to load agents",a)}},$=async b=>{try{let{getAgentConfig:c}=await a.A(33303),d=await c(b);d&&(m(d),E(b),s(!0))}catch(a){console.error("Failed to select agent",a)}},_=l.metadata.businessName.length>0&&l.services.length>0&&l.locations.length>0&&!!l.vapi.userName&&!!l.vapi.userEmail&&!!l.vapi.userPhone,aa=async()=>{let a=b?(0,aU.getOrgId)(b):"anonymous_org",c=l.metadata.businessName.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_"),d=D||`agent_${c}`,e=l.vapi.clientUrl||"https://voice-agent-eight-delta.vercel.app";if(h){let b=`&uName=${encodeURIComponent(l.vapi.userName||"")}&uEmail=${encodeURIComponent(l.vapi.userEmail||"")}&uPhone=${encodeURIComponent(l.vapi.userPhone||"")}`,c=`${e}?orgId=${a}&agentId=${d}&role=admin&demo=true${b}`;window.open(c,"_blank");return}if(!b)return void alert("Please sign in first or use Demo Mode.");y(!0);try{_&&(await (0,aU.saveConfiguration)(l),s(!0));let c=await b.getIdToken(!0),f=`&uName=${encodeURIComponent(l.vapi.userName||"")}&uEmail=${encodeURIComponent(l.vapi.userEmail||"")}&uPhone=${encodeURIComponent(l.vapi.userPhone||"")}`,g=`${e}?authtoken=${encodeURIComponent(c)}&orgId=${a}&agentId=${d}&role=admin${f}`;window.open(g,"_blank")}catch(a){console.error("Failed to launch client",a),alert("Error launching client. Check console for details.")}finally{y(!1)}},ac=async(a=!1)=>{if(n.trim()){E(null),q(!0),a&&w(!0);try{let b=null;if(a)try{b=await dh(n)}catch(a){console.error("Research failed, proceeding with AI only",a)}finally{w(!1)}let c=dj(l.metadata.industry),d=await aT(n,b,c);m(a=>({...a,metadata:{...a.metadata,...d.metadata},services:d.services||a.services,locations:d.locations||a.locations,resources:d.resources||a.resources,conversation:{...a.conversation,...d.conversation},safety:{...a.safety,...d.safety},integrations:{...a.integrations,...d.integrations},vapi:{...a.vapi,...d.vapi||{}}}))}catch(a){console.error("AI Generation failed",a),alert("AI Assistant Error: "+(a.message||"Unknown error"))}finally{q(!1)}}},ad=async()=>{if(!l.vapi.userPhone||!S)return void alert("Assistant ID and User Phone Number are required.");R(!0);try{let a=await fetch("/api/vapi/call",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:l.vapi.userPhone,assistantId:S})}),b=await a.json();if(b.error)throw Error(b.error);alert("Calling your phone now...")}catch(a){console.error("Call failed",a),alert("Call failed: "+a.message)}finally{R(!1)}},ae=async()=>{if(b){O(!0);try{let a=(0,aU.getOrgId)(b),c=await fetch("/api/stripe/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:a,priceId:"price_1Qv3W..._test",successUrl:window.location.origin+"?session_id={CHECKOUT_SESSION_ID}",cancelUrl:window.location.origin})}),{url:d,error:e}=await c.json();if(e)throw Error(e);window.location.href=d}catch(a){console.error("Upgrade failed",a),alert("Upgrade failed: "+a.message)}finally{O(!1)}}},af=async()=>{u(!0);try{let a=await (0,aU.saveConfiguration)(l);if(E(a),await Y(),!h&&l.vapi.provider)try{let a=await df(l);a&&a.id&&T(a.id),aa()}catch(a){console.error("VAPI Error",a),alert(`Saved to Cloud, but VAPI creation failed: ${a.message}`)}s(!0)}catch(a){console.error("Failed to save config",a),h?(alert("Demo Mode: Configuration validated locally."),s(!0)):alert("Failed to save configuration to database.")}finally{u(!1)}},ag=(a,b)=>{m(c=>({...c,metadata:{...c.metadata,[a]:b}}))},ah=(a,b,c)=>{m(d=>({...d,services:d.services.map(d=>d.id===a?{...d,[b]:c}:d)}))},aj=(a,b,c)=>{m(d=>({...d,locations:d.locations.map(d=>d.id===a?{...d,[b]:c}:d)}))};return d?(0,H.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,H.jsx)(Z,{className:"w-8 h-8 text-brand-500 animate-spin"})}):b||h?r?(0,H.jsx)("div",{className:"min-h-screen bg-slate-900 text-slate-200 flex flex-col items-center justify-center p-8 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/20 via-slate-900 to-slate-900",children:(0,H.jsxs)("div",{className:"max-w-2xl w-full text-center space-y-8 animate-in fade-in zoom-in duration-700",children:[(0,H.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,H.jsx)("div",{className:"w-20 h-20 bg-emerald-500/20 border border-emerald-500/50 rounded-full flex items-center justify-center mb-4",children:(0,H.jsx)(dr,{className:"w-10 h-10 text-emerald-400"})}),(0,H.jsx)("h1",{className:"text-4xl font-extrabold text-white tracking-tight",children:"Configuration Submitted!"}),(0,H.jsx)("p",{className:"text-slate-400 text-lg max-w-md",children:"Your Voice AI Agent has been updated and the VAPI assistant is ready for action."})]}),(0,H.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4 pt-4",children:[l.vapi.userPhone&&S&&(0,H.jsxs)("button",{onClick:ad,disabled:Q,className:"px-8 py-3 bg-brand-500 hover:bg-brand-600 text-white font-bold rounded-xl flex items-center gap-3 shadow-lg shadow-brand-500/25 transition-all hover:scale-105 active:scale-95 disabled:opacity-70",children:[Q?(0,H.jsx)(Z,{className:"w-5 h-5 animate-spin"}):(0,H.jsx)(dv,{className:"w-5 h-5"}),"Call Me Now"]}),(0,H.jsxs)("button",{onClick:aa,disabled:x,className:"px-8 py-3 bg-indigo-600 hover:bg-indigo-50 text-white font-bold rounded-xl flex items-center gap-3 shadow-lg shadow-indigo-500/25 transition-all hover:scale-105 active:scale-95 disabled:opacity-70",children:[(0,H.jsx)(ds,{className:"w-5 h-5 font-bold"}),"Launch Agent Interface"]}),(0,H.jsx)("button",{onClick:()=>s(!1),className:"px-8 py-3 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded-xl border border-slate-700 transition-all hover:bg-slate-700/80",children:"Back to Configurator"})]})]})}):(0,H.jsxs)("div",{className:"flex min-h-screen bg-slate-50",children:[(0,H.jsx)(ab,{activeSection:j,onNavigate:a=>{k(a);let b=document.getElementById(a);b&&b.scrollIntoView({behavior:"smooth"})},onLock:af,onLaunchClient:aa,isValid:_,isSaving:t,isLocked:r,isLaunching:x,agents:B,onSelectAgent:$,branding:F,currentAgentId:D||void 0}),(0,H.jsxs)("main",{className:"ml-64 flex-1 p-8 max-w-5xl mx-auto space-y-16 pb-32",children:[(0,H.jsxs)("div",{className:"flex justify-end mb-4 items-center gap-4",children:[h&&(0,H.jsx)("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 text-xs font-bold rounded-full border border-amber-200",children:"DEMO MODE"}),(0,H.jsx)("button",{onClick:X,className:"text-sm text-slate-500 hover:text-red-500 px-3 py-1",children:h?"Exit Demo":`Sign Out (${b?.email})`})]}),(0,H.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-700 rounded-xl p-6 text-white shadow-lg mb-8",children:(0,H.jsxs)("div",{className:"flex items-start gap-4",children:[(0,H.jsx)("div",{className:"p-3 bg-white/10 rounded-lg",children:(0,H.jsx)(dn,{className:"w-6 h-6 text-indigo-100"})}),(0,H.jsxs)("div",{className:"flex-1",children:[(0,H.jsx)("h2",{className:"text-lg font-bold mb-2",children:"AI Configuration Assistant"}),(0,H.jsx)("p",{className:"text-indigo-100 mb-4 text-sm",children:"Describe the business, and I will auto-fill the configuration for you."}),(0,H.jsxs)("div",{className:"flex gap-2",children:[(0,H.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),placeholder:"e.g. A dental clinic in Chicago offering exams and cleanings...",className:"flex-1 px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-indigo-200 focus:outline-none focus:ring-2 focus:ring-white/50",onKeyDown:a=>"Enter"===a.key&&ac()}),(0,H.jsxs)("button",{onClick:()=>ac(!1),disabled:p,className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2 border border-white/20",children:[p&&!v?(0,H.jsx)(Z,{className:"w-4 h-4 animate-spin"}):(0,H.jsx)(dn,{className:"w-4 h-4"}),"Auto-Fill"]}),(0,H.jsxs)("button",{onClick:()=>ac(!0),disabled:p,className:"px-6 py-2 bg-white text-indigo-700 font-bold rounded-lg hover:bg-indigo-50 transition-colors disabled:opacity-50 flex items-center gap-2 shadow-xl shadow-black/10",children:[v?(0,H.jsx)(Z,{className:"w-4 h-4 animate-spin"}):(0,H.jsx)(dt,{className:"w-4 h-4"}),"Research & Auto-Fill"]})]})]})]})}),(0,H.jsxs)("section",{id:"metadata",className:"space-y-6 scroll-mt-24",children:[(0,H.jsxs)("div",{className:"border-b border-slate-200 pb-4",children:[(0,H.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Section A: Business Metadata"}),(0,H.jsx)("p",{className:"text-slate-500",children:"Core identity and purpose of the business."})]}),(0,H.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Business Name"}),(0,H.jsx)("input",{type:"text",className:"w-full p-2 border rounded-md",value:l.metadata.businessName,onChange:a=>ag("businessName",a.target.value)})]}),(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Created At"}),(0,H.jsxs)("div",{className:"flex items-center gap-2 w-full p-2 border rounded-md bg-slate-100 text-slate-500",children:[(0,H.jsx)(P,{className:"w-4 h-4"}),(0,H.jsx)("span",{children:l.metadata.createdAt?new Date(l.metadata.createdAt).toLocaleString():"New"})]})]}),(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Industry"}),(0,H.jsx)("input",{type:"text",className:"w-full p-2 border rounded-md",list:"industries",value:l.metadata.industry,onChange:a=>ag("industry",a.target.value),placeholder:"Search or select industry..."}),(0,H.jsx)("datalist",{id:"industries",children:dk.map(a=>(0,H.jsx)("option",{value:a},a))}),(0,H.jsxs)("button",{type:"button",onClick:()=>{let a=dj(l.metadata.industry);a&&(m(b=>({...b,vapi:{...b.vapi,systemPrompt:a.systemPrompt,firstMessage:a.firstMessage},dataFields:{...b.dataFields,mandatory:a.mandatoryFields,optional:a.optionalFields},conversation:{...b.conversation,tone:a.defaultTone}})),alert(`Applied ${a.name} template!`))},className:"mt-2 text-xs text-indigo-600 font-semibold flex items-center gap-1 hover:text-indigo-700",children:[(0,H.jsx)(ds,{className:"w-3 h-3"}),"Apply Expert Template"]})]}),(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Primary Use Case"}),(0,H.jsx)("input",{type:"text",className:"w-full p-2 border rounded-md",value:l.metadata.primaryUseCase,onChange:a=>ag("primaryUseCase",a.target.value)})]})]}),(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Business Description"}),(0,H.jsx)("textarea",{className:"w-full p-2 border rounded-md h-24",value:l.metadata.description,onChange:a=>ag("description",a.target.value)})]}),(0,H.jsxs)("div",{className:"mt-8 bg-slate-50 border border-slate-200 rounded-xl p-6",children:[(0,H.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,H.jsx)(du,{className:"w-5 h-5 text-indigo-600"}),(0,H.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Organization Branding"})]}),(0,H.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"App Name / Identity"}),(0,H.jsx)("input",{type:"text",className:"w-full p-2 border rounded-md",value:F.appName,onChange:a=>G(b=>({...b,appName:a.target.value}))})]}),(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Logo URL"}),(0,H.jsx)("input",{type:"text",className:"w-full p-2 border rounded-md",value:F.logoUrl,onChange:a=>G(b=>({...b,logoUrl:a.target.value}))})]}),(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Primary Brand Color"}),(0,H.jsx)("input",{type:"color",className:"w-full h-10 p-1 rounded-md border",value:F.primaryColor,onChange:a=>G(b=>({...b,primaryColor:a.target.value}))})]}),(0,H.jsx)("div",{className:"flex items-end",children:(0,H.jsxs)("button",{onClick:V,disabled:J,className:"w-full py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center justify-center gap-2 disabled:opacity-50",children:[J?(0,H.jsx)(Z,{className:"w-4 h-4 animate-spin"}):(0,H.jsx)(dr,{className:"w-4 h-4"}),"Save Branding"]})})]})]})]}),(0,H.jsxs)("section",{id:"services",className:"space-y-6 scroll-mt-24",children:[(0,H.jsxs)("div",{className:"flex justify-between items-end border-b border-slate-200 pb-4",children:[(0,H.jsxs)("div",{children:[(0,H.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Section B: Services"}),(0,H.jsx)("p",{className:"text-slate-500",children:"Define your offerings."})]}),(0,H.jsxs)("button",{onClick:()=>{m(a=>({...a,services:[...a.services,{id:Math.random().toString(36).substring(2,9),name:"",description:"",durationMinutes:30,bookingRules:""}]}))},className:"text-sm bg-slate-900 text-white px-3 py-2 rounded-md flex items-center gap-2",children:[(0,H.jsx)(dp,{className:"w-4 h-4"})," Add Service"]})]}),(0,H.jsx)("div",{className:"space-y-4",children:l.services.map(a=>(0,H.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm relative group",children:[(0,H.jsx)("button",{onClick:()=>{var b;return b=a.id,void m(a=>({...a,services:a.services.filter(a=>a.id!==b)}))},className:"absolute top-4 right-4 text-slate-400 hover:text-red-500",children:(0,H.jsx)(dq,{className:"w-4 h-4"})}),(0,H.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[(0,H.jsxs)("div",{className:"col-span-8 space-y-2",children:[(0,H.jsx)("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Service Name"}),(0,H.jsx)("input",{type:"text",className:"w-full p-2 border rounded",value:a.name,onChange:b=>ah(a.id,"name",b.target.value)})]}),(0,H.jsxs)("div",{className:"col-span-4 space-y-2",children:[(0,H.jsx)("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Duration (min)"}),(0,H.jsx)("input",{type:"number",className:"w-full p-2 border rounded",value:a.durationMinutes,onChange:b=>ah(a.id,"durationMinutes",parseInt(b.target.value))})]})]})]},a.id))})]}),(0,H.jsxs)("section",{id:"locations",className:"space-y-6 scroll-mt-24",children:[(0,H.jsxs)("div",{className:"flex justify-between items-end border-b border-slate-200 pb-4",children:[(0,H.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Section C: Locations"}),(0,H.jsxs)("button",{onClick:()=>{m(a=>({...a,locations:[...a.locations,{id:Math.random().toString(36).substring(2,9),name:"",mode:"Physical",operatingDays:["Monday","Tuesday","Wednesday","Thursday","Friday"],operatingHours:"09:00 - 17:00",timeZone:"UTC"}]}))},className:"text-sm bg-slate-900 text-white px-3 py-2 rounded-md flex items-center gap-2",children:[(0,H.jsx)(dp,{className:"w-4 h-4"})," Add Location"]})]}),(0,H.jsx)("div",{className:"space-y-4",children:l.locations.map(a=>(0,H.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm relative",children:[(0,H.jsx)("button",{onClick:()=>{var b;return b=a.id,void m(a=>({...a,locations:a.locations.filter(a=>a.id!==b)}))},className:"absolute top-4 right-4 text-slate-400 hover:text-red-500",children:(0,H.jsx)(dq,{className:"w-4 h-4"})}),(0,H.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Location Name"}),(0,H.jsx)("input",{type:"text",className:"w-full p-2 border rounded",value:a.name,onChange:b=>aj(a.id,"name",b.target.value)})]}),(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Type"}),(0,H.jsxs)("select",{className:"w-full p-2 border rounded text-sm",value:a.mode,onChange:b=>aj(a.id,"mode",b.target.value),children:[(0,H.jsx)("option",{value:"Physical",children:"Physical"}),(0,H.jsx)("option",{value:"Virtual",children:"Virtual"}),(0,H.jsx)("option",{value:"Hybrid",children:"Hybrid"})]})]})]})]},a.id))})]}),(0,H.jsxs)("section",{id:"vapi",className:"space-y-6 scroll-mt-24 pb-20",children:[(0,H.jsx)("div",{className:"border-b border-slate-200 pb-4",children:(0,H.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Section J: VAPI Configuration"})}),(0,H.jsxs)("div",{className:"bg-white p-6 border rounded-lg shadow-sm space-y-6",children:[(0,H.jsxs)("div",{className:"p-4 bg-slate-50 border rounded-lg grid grid-cols-3 gap-4",children:[(0,H.jsxs)("div",{className:"space-y-1",children:[(0,H.jsx)("label",{className:"text-xs font-bold text-slate-600",children:"User Name"}),(0,H.jsx)("input",{className:"w-full p-2 text-sm border rounded",value:l.vapi.userName||"",onChange:a=>m(b=>({...b,vapi:{...b.vapi,userName:a.target.value}}))})]}),(0,H.jsxs)("div",{className:"space-y-1",children:[(0,H.jsx)("label",{className:"text-xs font-bold text-slate-600",children:"User Email"}),(0,H.jsx)("input",{className:"w-full p-2 text-sm border rounded",value:l.vapi.userEmail||"",onChange:a=>m(b=>({...b,vapi:{...b.vapi,userEmail:a.target.value}}))})]}),(0,H.jsxs)("div",{className:"space-y-1 col-span-2",children:[(0,H.jsx)("label",{className:"text-xs font-bold text-slate-600",children:"User Phone"}),(0,H.jsxs)("div",{className:"flex gap-2",children:[(0,H.jsx)("input",{className:"w-full p-2 text-sm border rounded",value:l.vapi.userPhone||"",onChange:a=>m(b=>({...b,vapi:{...b.vapi,userPhone:a.target.value}}))}),S&&(0,H.jsxs)("button",{onClick:ad,disabled:Q,className:"px-3 py-1 bg-brand-500 text-white rounded text-sm hover:bg-brand-600 disabled:opacity-50 transition-colors flex items-center gap-2 whitespace-nowrap",children:[Q?(0,H.jsx)(Z,{className:"w-3 h-3 animate-spin"}):(0,H.jsx)(dw,{className:"w-3 h-3"}),"Test Call"]})]})]})]}),(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-sm font-medium",children:"System Prompt"}),(0,H.jsx)("textarea",{className:"w-full p-2 border rounded h-64 font-mono text-sm",value:l.vapi.systemPrompt,onChange:a=>m(b=>({...b,vapi:{...b.vapi,systemPrompt:a.target.value}}))})]}),(0,H.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-xs font-bold uppercase text-slate-500",children:"First Message"}),(0,H.jsx)("textarea",{className:"w-full p-2 border rounded text-sm h-20",value:l.vapi.firstMessage,onChange:a=>m(b=>({...b,vapi:{...b.vapi,firstMessage:a.target.value}}))})]}),(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)("label",{className:"text-xs font-bold uppercase text-slate-500",children:"Knowledge Base"}),(0,H.jsx)("textarea",{className:"w-full p-2 border rounded text-xs font-mono h-20",value:l.vapi.knowledgeBase,onChange:a=>m(b=>({...b,vapi:{...b.vapi,knowledgeBase:a.target.value}}))})]})]})]})]}),(0,H.jsxs)("section",{id:"billing",className:"space-y-6 scroll-mt-24 pb-20",children:[(0,H.jsxs)("div",{className:"border-b border-slate-200 pb-4",children:[(0,H.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Section K: Plan & Billing"}),(0,H.jsx)("p",{className:"text-slate-500",children:"Manage your organization's subscription and usage."})]}),(0,H.jsxs)("div",{className:"bg-white p-8 rounded-2xl border border-slate-200 shadow-sm flex items-center justify-between",children:[(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsxs)("div",{className:"flex items-center gap-3",children:[(0,H.jsxs)("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${"PRO"===L?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:[L," PLAN"]}),"BASIC"===L&&(0,H.jsx)("span",{className:"text-sm text-slate-400",children:"Limited to 1 Agent"})]}),(0,H.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"PRO"===L?"Professional Organization":"Starter Account"}),(0,H.jsx)("p",{className:"text-sm text-slate-500 max-w-sm",children:"PRO"===L?"You have unlimited agents, custom branding, and professional support.":"Upgrade to Professional for unlimited agents, advanced analytics, and custom branding persistence."})]}),"BASIC"===L&&(0,H.jsxs)("button",{onClick:ae,disabled:N,className:"px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 flex items-center gap-2 transition-all active:scale-95 disabled:opacity-70",children:[N?(0,H.jsx)(Z,{className:"w-5 h-5 animate-spin"}):(0,H.jsx)(ds,{className:"w-5 h-5"}),"Upgrade to Pro"]}),"PRO"===L&&(0,H.jsxs)("div",{className:"flex items-center gap-2 text-emerald-600 font-bold",children:[(0,H.jsx)(dr,{className:"w-6 h-6"}),"Active"]})]})]})]})]}):(0,H.jsx)(ai,{onLogin:W,onDemoLogin:()=>{i(!0)},isLoggingIn:f})}a.s(["default",()=>dy],40777)}];

//# sourceMappingURL=_9a531110._.js.map